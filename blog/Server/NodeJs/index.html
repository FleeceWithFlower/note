<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Node | FleeceWithFlower</title>
    <meta name="description" content="Blog">
    <link rel="icon" href="/note/icon1.png">
    
    <link rel="preload" href="/note/assets/css/0.styles.d0b6534a.css" as="style"><link rel="preload" href="/note/assets/js/app.56227b0f.js" as="script"><link rel="preload" href="/note/assets/js/2.a1b42ab7.js" as="script"><link rel="preload" href="/note/assets/js/44.fd4de19b.js" as="script"><link rel="prefetch" href="/note/assets/js/10.3c27c8c3.js"><link rel="prefetch" href="/note/assets/js/11.a67f9cc2.js"><link rel="prefetch" href="/note/assets/js/12.cd335187.js"><link rel="prefetch" href="/note/assets/js/13.b7a01fc9.js"><link rel="prefetch" href="/note/assets/js/14.08ce967e.js"><link rel="prefetch" href="/note/assets/js/15.bc8e8cdb.js"><link rel="prefetch" href="/note/assets/js/16.7090999e.js"><link rel="prefetch" href="/note/assets/js/17.1fd199b3.js"><link rel="prefetch" href="/note/assets/js/18.8015fdc4.js"><link rel="prefetch" href="/note/assets/js/19.38b23b13.js"><link rel="prefetch" href="/note/assets/js/20.60ed7a78.js"><link rel="prefetch" href="/note/assets/js/21.23fba4d2.js"><link rel="prefetch" href="/note/assets/js/22.fffa5a06.js"><link rel="prefetch" href="/note/assets/js/23.d877f07f.js"><link rel="prefetch" href="/note/assets/js/24.cbd16133.js"><link rel="prefetch" href="/note/assets/js/25.2e8c1b4f.js"><link rel="prefetch" href="/note/assets/js/26.0498bf9a.js"><link rel="prefetch" href="/note/assets/js/27.0c2c2747.js"><link rel="prefetch" href="/note/assets/js/28.999ca624.js"><link rel="prefetch" href="/note/assets/js/29.614be100.js"><link rel="prefetch" href="/note/assets/js/3.df5a3d12.js"><link rel="prefetch" href="/note/assets/js/30.7e192876.js"><link rel="prefetch" href="/note/assets/js/31.2a0770ef.js"><link rel="prefetch" href="/note/assets/js/32.cb2efd44.js"><link rel="prefetch" href="/note/assets/js/33.89a83cd1.js"><link rel="prefetch" href="/note/assets/js/34.c8f85729.js"><link rel="prefetch" href="/note/assets/js/35.38a2fed9.js"><link rel="prefetch" href="/note/assets/js/36.7c72811e.js"><link rel="prefetch" href="/note/assets/js/37.c8df8188.js"><link rel="prefetch" href="/note/assets/js/38.456793af.js"><link rel="prefetch" href="/note/assets/js/39.78b28908.js"><link rel="prefetch" href="/note/assets/js/4.eab7aee1.js"><link rel="prefetch" href="/note/assets/js/40.f0c7bfd4.js"><link rel="prefetch" href="/note/assets/js/41.e3bdf42f.js"><link rel="prefetch" href="/note/assets/js/42.3dd54267.js"><link rel="prefetch" href="/note/assets/js/43.52427e53.js"><link rel="prefetch" href="/note/assets/js/45.9f1a63f8.js"><link rel="prefetch" href="/note/assets/js/46.9d17d390.js"><link rel="prefetch" href="/note/assets/js/47.a666dc88.js"><link rel="prefetch" href="/note/assets/js/48.5776f2c0.js"><link rel="prefetch" href="/note/assets/js/49.2633cc2b.js"><link rel="prefetch" href="/note/assets/js/5.2f3b55aa.js"><link rel="prefetch" href="/note/assets/js/50.2840b92c.js"><link rel="prefetch" href="/note/assets/js/51.3d87d974.js"><link rel="prefetch" href="/note/assets/js/52.b015f2f3.js"><link rel="prefetch" href="/note/assets/js/53.9de4192d.js"><link rel="prefetch" href="/note/assets/js/54.e8314561.js"><link rel="prefetch" href="/note/assets/js/55.3280de1b.js"><link rel="prefetch" href="/note/assets/js/56.3a11e188.js"><link rel="prefetch" href="/note/assets/js/57.603b7444.js"><link rel="prefetch" href="/note/assets/js/58.1ffc33ae.js"><link rel="prefetch" href="/note/assets/js/59.a116dba8.js"><link rel="prefetch" href="/note/assets/js/6.4a032d23.js"><link rel="prefetch" href="/note/assets/js/60.c373dc7c.js"><link rel="prefetch" href="/note/assets/js/61.e0f71b64.js"><link rel="prefetch" href="/note/assets/js/62.e0d1988a.js"><link rel="prefetch" href="/note/assets/js/63.a3b40dd1.js"><link rel="prefetch" href="/note/assets/js/64.f460ce5f.js"><link rel="prefetch" href="/note/assets/js/65.2e2233fc.js"><link rel="prefetch" href="/note/assets/js/66.2039b6e3.js"><link rel="prefetch" href="/note/assets/js/67.45a41677.js"><link rel="prefetch" href="/note/assets/js/68.7f57c46e.js"><link rel="prefetch" href="/note/assets/js/69.c4868d1e.js"><link rel="prefetch" href="/note/assets/js/7.9f677a48.js"><link rel="prefetch" href="/note/assets/js/70.38fb93df.js"><link rel="prefetch" href="/note/assets/js/71.f9910482.js"><link rel="prefetch" href="/note/assets/js/72.49cb5c51.js"><link rel="prefetch" href="/note/assets/js/73.d683c8ab.js"><link rel="prefetch" href="/note/assets/js/74.1e533b3a.js"><link rel="prefetch" href="/note/assets/js/75.bc8d2e7b.js"><link rel="prefetch" href="/note/assets/js/76.de0cac09.js"><link rel="prefetch" href="/note/assets/js/77.68d626ef.js"><link rel="prefetch" href="/note/assets/js/78.1bd0ac57.js"><link rel="prefetch" href="/note/assets/js/79.5a736574.js"><link rel="prefetch" href="/note/assets/js/8.e6847035.js"><link rel="prefetch" href="/note/assets/js/80.6a726272.js"><link rel="prefetch" href="/note/assets/js/81.1eaff167.js"><link rel="prefetch" href="/note/assets/js/82.aeb62fbc.js"><link rel="prefetch" href="/note/assets/js/83.280b5c93.js"><link rel="prefetch" href="/note/assets/js/84.bbd17106.js"><link rel="prefetch" href="/note/assets/js/85.1c60d50d.js"><link rel="prefetch" href="/note/assets/js/86.0ce74629.js"><link rel="prefetch" href="/note/assets/js/87.b510fe79.js"><link rel="prefetch" href="/note/assets/js/9.17278cdb.js">
    <link rel="stylesheet" href="/note/assets/css/0.styles.d0b6534a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/note/" class="home-link router-link-active"><!----> <span class="site-name">FleeceWithFlower</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/note/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Client</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/blog/Client/JS/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Client/Vue/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Client/React/" class="nav-link">React</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Server</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/blog/Server/Java/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/NodeJs/" class="nav-link router-link-exact-active router-link-active">NodeJs</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/Groovy/" class="nav-link">Groovy</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/Kotlin/" class="nav-link">Kotlin</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/MongoDB/" class="nav-link">MongoDB</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/MySQL/" class="nav-link">MySQL</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/C/" class="nav-link">C</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">OS</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/blog/Server/Linux/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/Windows/" class="nav-link">Windows</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Tools</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/blog/Tools/Cordova/" class="nav-link">Cordova</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/Git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/HTTP/" class="nav-link">HTTP</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/MarkDown/" class="nav-link">MarkDown</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/Nginx/" class="nav-link">Nginx</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/Npm/" class="nav-link">Npm</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/shell/" class="nav-link">Shell</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/vim/" class="nav-link">Vim</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/VuePress/" class="nav-link">VuePress</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/yum/" class="nav-link">Yum</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/typeScript/" class="nav-link">TypeScript</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/flux/" class="nav-link">Flux</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/note/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Client</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/blog/Client/JS/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Client/Vue/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Client/React/" class="nav-link">React</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Server</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/blog/Server/Java/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/NodeJs/" class="nav-link router-link-exact-active router-link-active">NodeJs</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/Groovy/" class="nav-link">Groovy</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/Kotlin/" class="nav-link">Kotlin</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/MongoDB/" class="nav-link">MongoDB</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/MySQL/" class="nav-link">MySQL</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/C/" class="nav-link">C</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">OS</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/blog/Server/Linux/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/Windows/" class="nav-link">Windows</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Tools</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/blog/Tools/Cordova/" class="nav-link">Cordova</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/Git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/HTTP/" class="nav-link">HTTP</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/MarkDown/" class="nav-link">MarkDown</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/Nginx/" class="nav-link">Nginx</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/Npm/" class="nav-link">Npm</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/shell/" class="nav-link">Shell</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/vim/" class="nav-link">Vim</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/VuePress/" class="nav-link">VuePress</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/yum/" class="nav-link">Yum</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/typeScript/" class="nav-link">TypeScript</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/flux/" class="nav-link">Flux</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/note/blog/Server/NodeJs/" class="active sidebar-link">NodeJs</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/blog/Server/NodeJs/#node中特殊成员" class="sidebar-link">Node中特殊成员</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/blog/Server/NodeJs/#require" class="sidebar-link">require</a></li><li class="sidebar-sub-header"><a href="/note/blog/Server/NodeJs/#exports" class="sidebar-link">exports</a></li><li class="sidebar-sub-header"><a href="/note/blog/Server/NodeJs/#dirname" class="sidebar-link">__dirname</a></li><li class="sidebar-sub-header"><a href="/note/blog/Server/NodeJs/#filename" class="sidebar-link">__filename</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/blog/Server/NodeJs/#社区中代码风格规范：" class="sidebar-link">社区中代码风格规范：</a></li><li class="sidebar-sub-header"><a href="/note/blog/Server/NodeJs/#核心模块" class="sidebar-link">核心模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/blog/Server/NodeJs/#path" class="sidebar-link">path</a></li><li class="sidebar-sub-header"><a href="/note/blog/Server/NodeJs/#fs" class="sidebar-link">fs</a></li><li class="sidebar-sub-header"><a href="/note/blog/Server/NodeJs/#http" class="sidebar-link">http</a></li><li class="sidebar-sub-header"><a href="/note/blog/Server/NodeJs/#json-stringify-obj" class="sidebar-link">JSON.stringify(obj)</a></li><li class="sidebar-sub-header"><a href="/note/blog/Server/NodeJs/#json-parse-str" class="sidebar-link">JSON.parse(str)</a></li><li class="sidebar-sub-header"><a href="/note/blog/Server/NodeJs/#重定向-301" class="sidebar-link">重定向 301</a></li><li class="sidebar-sub-header"><a href="/note/blog/Server/NodeJs/#重定向-302" class="sidebar-link">重定向 302</a></li><li class="sidebar-sub-header"><a href="/note/blog/Server/NodeJs/#url" class="sidebar-link">url</a></li><li class="sidebar-sub-header"><a href="/note/blog/Server/NodeJs/#module" class="sidebar-link">module</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/blog/Server/NodeJs/#node-api笔记" class="sidebar-link">node API笔记</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/blog/Server/NodeJs/#buffer" class="sidebar-link">buffer</a></li></ul></li></ul></li><li><a href="/note/blog/Server/NodeJs/Express/" class="sidebar-link">Express</a></li><li><a href="/note/blog/Server/NodeJs/Koa2/" class="sidebar-link">Koa2</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="node"><a href="#node" aria-hidden="true" class="header-anchor">#</a> Node</h1> <h2 id="node中特殊成员"><a href="#node中特殊成员" aria-hidden="true" class="header-anchor">#</a> Node中特殊成员</h2> <h3 id="require"><a href="#require" aria-hidden="true" class="header-anchor">#</a> require</h3> <h3 id="exports"><a href="#exports" aria-hidden="true" class="header-anchor">#</a> exports</h3> <h3 id="dirname"><a href="#dirname" aria-hidden="true" class="header-anchor">#</a> __dirname</h3> <ul><li>获得当前文件所属目录的绝对路径</li></ul> <h3 id="filename"><a href="#filename" aria-hidden="true" class="header-anchor">#</a> __filename</h3> <ul><li>获得当前文件的绝对路径</li></ul> <hr> <h2 id="社区中代码风格规范："><a href="#社区中代码风格规范：" aria-hidden="true" class="header-anchor">#</a> 社区中代码风格规范：</h2> <h4 id="javascript-standard-style"><a href="#javascript-standard-style" aria-hidden="true" class="header-anchor">#</a> <a href="https://standardjs.com/" target="_blank" rel="noopener noreferrer">JavaScript Standard Style<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <h4 id="airbnb-javascript-style"><a href="#airbnb-javascript-style" aria-hidden="true" class="header-anchor">#</a> Airbnb JavaScript Style</h4> <hr> <h2 id="核心模块"><a href="#核心模块" aria-hidden="true" class="header-anchor">#</a> 核心模块</h2> <h3 id="path"><a href="#path" aria-hidden="true" class="header-anchor">#</a> path</h3> <blockquote><h4 id="path-join"><a href="#path-join" aria-hidden="true" class="header-anchor">#</a> path.join</h4> <ul><li><code>path.join()</code> 方法使用平台特定的分隔符作为定界符将所有给定的 <code>path</code> 片段连接在一起，然后规范化生成的路径。</li> <li>参数
<ul><li>&lt;string&gt; 路径片段的序列</li></ul></li> <li>返回
<ul><li>&lt;string&gt; 生成的路径</li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>let a = path.join('index','fofo')
console.log(a);
// index/fofo
</code></pre></div><h4 id="path-dirname"><a href="#path-dirname" aria-hidden="true" class="header-anchor">#</a> path.dirname</h4> <ul><li><code>path.dirname()</code> 方法返回 <code>path</code> 的目录名</li> <li>参数
<ul><li>&lt;string&gt; 路径</li></ul></li> <li>返回
<ul><li>&lt;string&gt; 目录名</li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>let dirname = path.dirname('hello/world/index')
console.log(dirname);
//  hello/world
</code></pre></div><h4 id="path-extname"><a href="#path-extname" aria-hidden="true" class="header-anchor">#</a> path.extname</h4> <ul><li><code>path.extname()</code> 方法返回 <code>path</code> 的扩展名</li> <li>参数
<ul><li>&lt;string&gt; 路径</li></ul></li> <li>返回
<ul><li>&lt;string&gt; 扩展名</li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>let extname = path.extname('hello/index.js')
console.log(extname);
//  .js
</code></pre></div><h4 id="path-basename"><a href="#path-basename" aria-hidden="true" class="header-anchor">#</a> path.basename</h4> <ul><li><code>path.basename()</code> 方法返回 <code>path</code> 的最后一部分,如果添加了第二参数，则返回不带后缀名的path</li> <li>参数
<ul><li><code>path</code> &lt;string&gt; 路径</li> <li>ext &lt;string&gt; 扩展名</li></ul></li> <li>返回
<ul><li>&lt;string&gt; 扩展名</li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>let basename = path.basename('hello/index.js')
console.log(basename);
//  index.js
</code></pre></div><p>添加第二参数</p> <div class="language- extra-class"><pre class="language-text"><code>let basename = path.basename('hello/index.js'，'.js')
console.log(basename);
//  index
</code></pre></div><h4 id="path-format"><a href="#path-format" aria-hidden="true" class="header-anchor">#</a> path.format()</h4> <ul><li>从对象返回路径字符串</li> <li>参数
<ul><li><code>pathObject</code>&lt;object&gt; 路径对象
<ul><li><code>dir</code></li> <li><code>root</code></li> <li><code>base</code></li> <li><code>name</code></li> <li><code>ext</code></li></ul></li></ul></li> <li>返回
<ul><li>path&lt;string&gt; 路径字符串</li></ul></li> <li>如果提供了 <code>pathObject.dir</code>，则忽略 <code>pathObject.root</code>。</li> <li>如果 <code>pathObject.base</code> 存在，则忽略 <code>pathObject.ext</code> 和 <code>pathObject.name</code>。</li></ul> <div class="language- extra-class"><pre class="language-text"><code>path.format({
dir: 'C:\\path\\dir',
base: 'file.txt'
});
// 返回: 'C:\\path\\dir\\file.txt'
</code></pre></div><h4 id="path-isabsolute"><a href="#path-isabsolute" aria-hidden="true" class="header-anchor">#</a> path.isAbsolute</h4> <ul><li><code>path.isAbsolute()</code> 方法检测 <code>path</code> 是否为绝对路径。</li> <li>参数
<ul><li>path&lt;string&gt;</li></ul></li> <li>返回
<ul><li>&lt;boolean&gt;</li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>path.isAbsolute('C:/foo/..');   // true
</code></pre></div><h4 id="path-normalize"><a href="#path-normalize" aria-hidden="true" class="header-anchor">#</a> path.normalize</h4> <ul><li><code>path.normalize()</code> 方法规范化给定的 <code>path</code></li> <li>参数
<ul><li>path &lt;string&gt;</li></ul></li> <li>返回
<ul><li>path &lt;string&gt;</li></ul></li></ul> <h4 id="path-parse"><a href="#path-parse" aria-hidden="true" class="header-anchor">#</a> path.parse</h4> <ul><li>``path.parse()<code>方法返回一个对象，其属性表示</code>path` 的重要元素。</li> <li>参数
<ul><li>path&lt;string&gt;</li></ul></li> <li>返回
<ul><li>path &lt;Object&gt;
<ul><li><code>dir</code> &lt;string&gt;</li> <li><code>root</code> &lt;string&gt;</li> <li><code>base</code> &lt;string&gt;</li> <li><code>name</code> &lt;string&gt;</li> <li><code>ext</code> &lt;string&gt;</li></ul></li></ul></li></ul> <p>POSIX</p> <div class="language-text extra-class"><pre class="language-text"><code>┌─────────────────────┬────────────┐
│          dir        │    base    │
├──────┬              ├──────┬─────┤
│ root │              │ name │ ext │
&quot;  /    home/user/dir / file  .txt &quot;
└──────┴──────────────┴──────┴─────┘
</code></pre></div><p>Windows</p> <div class="language-text extra-class"><pre class="language-text"><code>┌─────────────────────┬────────────┐
│          dir        │    base    │
├──────┬              ├──────┬─────┤
│ root │              │ name │ ext │
&quot; C:\      path\dir   \ file  .txt &quot;
└──────┴──────────────┴──────┴─────┘
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>let a =path.parse('C:\\path\\dir\\file.txt');
console.log(a);
/*
{ root: 'C:\\',
dir: 'C:\\path\\dir',
base: 'file.txt',
ext: '.txt',
name: 'file' }
*/
</code></pre></div><h4 id="path-relative-from-to"><a href="#path-relative-from-to" aria-hidden="true" class="header-anchor">#</a> path.relative(from, to)</h4> <ul><li><code>path.relative()</code> 方法根据当前工作目录返回 <code>from</code> 到 <code>to</code> 的相对路径。</li> <li>参数
<ul><li>from&lt;string&gt;</li> <li>to&lt;string&gt;</li></ul></li> <li>返回
<ul><li>path &lt;string&gt; 相对路径</li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>let a =path.relative('C:\\path\\dir','C:\\path');
console.log(a);

// ..
</code></pre></div><h4 id="path-resolve"><a href="#path-resolve" aria-hidden="true" class="header-anchor">#</a> path.resolve</h4> <ul><li>``path.resolve()` 方法将路径或路径片段的序列解析为绝对路径。</li> <li>如果没有传入 <code>path</code> 片段，则 <code>path.resolve()</code> 将返回当前工作目录的绝对路径</li> <li>参数
<ul><li>path&lt;string&gt; 路径或路径片段的序列。</li></ul></li> <li>返回
<ul><li>path &lt;string&gt; 绝对路径</li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>let a =path.resolve('/foo/bar', '/tmp/file/');
console.log(a);

// C:\tmp\file

let a =path.resolve('/foo/bar', 'tmp/file/');
console.log(a);

// C:\foo\bar\tmp\file
</code></pre></div><h4 id="path-sep"><a href="#path-sep" aria-hidden="true" class="header-anchor">#</a> path.sep</h4> <ul><li>提供平台特定的路径片段分隔符：
<ul><li>Windows 上是 <code>\</code>。</li> <li>POSIX 上是 <code>/</code>。</li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>let a =path.sep
console.log(a);

//  \
</code></pre></div><h4 id="path-tonamespacedpath-path"><a href="#path-tonamespacedpath-path" aria-hidden="true" class="header-anchor">#</a> path.toNamespacedPath(path)</h4> <ul><li>仅在 Windows 系统上，返回给定 <code>path</code> 的等效<a href="http://nodejs.cn/s/cVsGGE" target="_blank" rel="noopener noreferrer">名称空间前缀路径<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</li> <li>参数
<ul><li>path&lt;string&gt; 路径</li></ul></li> <li>返回
<ul><li>path &lt;string&gt; 绝对路径</li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>let a =path.toNamespacedPath('C:\\CloudMusic')
console.log(a);

// \\?\C:\CloudMusic
</code></pre></div><h5 id="待续····"><a href="#待续····" aria-hidden="true" class="header-anchor">#</a> 待续····</h5> <h4 id="windows-与-posix"><a href="#windows-与-posix" aria-hidden="true" class="header-anchor">#</a> Windows 与 POSIX</h4> <h4 id="path-posix"><a href="#path-posix" aria-hidden="true" class="header-anchor">#</a> path.posix</h4> <h4 id="path-win32"><a href="#path-win32" aria-hidden="true" class="header-anchor">#</a> path.win32</h4> <h4 id="path-delimiter"><a href="#path-delimiter" aria-hidden="true" class="header-anchor">#</a> path.delimiter</h4> <h4 id=""><a href="#" aria-hidden="true" class="header-anchor">#</a></h4></blockquote> <h3 id="fs"><a href="#fs" aria-hidden="true" class="header-anchor">#</a> fs</h3> <blockquote><p>读取文件</p></blockquote> <ul><li><strong>Node</strong>中文件操作路径为执行<strong>Node</strong>命令所处的路径</li></ul> <h4 id="fs-readfile"><a href="#fs-readfile" aria-hidden="true" class="header-anchor">#</a> fs.readFile()</h4> <p>1.加载文件系统</p> <div class="language- extra-class"><pre class="language-text"><code>var fs =require('fs')
//fs =&gt; filesystem /文件系统 
//fs核心模块 提供api
</code></pre></div><p>2.读取文件</p> <ul><li><p>参数一:filename</p></li> <li><p>参数二:callback</p></li></ul> <p>​             参数1:error //错误对象，如果读取成功error=null</p> <p>​             参数2:data //读取到的数据</p> <div class="language- extra-class"><pre class="language-text"><code>fs.readFile('',function(){})
</code></pre></div><blockquote><p>写文件</p></blockquote> <h4 id="fs-writefile（）"><a href="#fs-writefile（）" aria-hidden="true" class="header-anchor">#</a> fs.writeFile（）</h4> <ul><li>//写文件</li></ul> <ol><li>参数一：地址</li> <li>参数二:数据</li> <li>参数三:回调函数</li></ol> <p>​             参数1:error //错误对象，如果读取成功error=null</p> <div class="language- extra-class"><pre class="language-text"><code>var fs =require('fs')

fs.writeFile('./a.txt','hello world',(error)=&gt;{
    console.log( error);
}  )
</code></pre></div><blockquote><p>获得目录列表</p></blockquote> <h4 id="fs-readdir（）"><a href="#fs-readdir（）" aria-hidden="true" class="header-anchor">#</a> fs.readdir（）</h4> <div class="language- extra-class"><pre class="language-text"><code>var fs=require('fs')
fs.readdir(dir,function (err,data) {
  console.log(data)
})
</code></pre></div><h3 id="http"><a href="#http" aria-hidden="true" class="header-anchor">#</a> http</h3> <h4 id="_1-引入模块"><a href="#_1-引入模块" aria-hidden="true" class="header-anchor">#</a> 1.引入模块</h4> <div class="language- extra-class"><pre class="language-text"><code>var http=require('http')
</code></pre></div><h4 id="_2-创建实例"><a href="#_2-创建实例" aria-hidden="true" class="header-anchor">#</a> 2.创建实例</h4> <div class="language- extra-class"><pre class="language-text"><code>var server=http.createServer()//创建实例
</code></pre></div><h4 id="_3-启动服务器"><a href="#_3-启动服务器" aria-hidden="true" class="header-anchor">#</a> 3.启动服务器</h4> <div class="language- extra-class"><pre class="language-text"><code>server.listen(8080,function () {
    console.log('    服务器启动成功，http://127.0.0.1：8080  ');
})//启动服务器
</code></pre></div><h4 id="_4-请求对象-request"><a href="#_4-请求对象-request" aria-hidden="true" class="header-anchor">#</a> 4.请求对象  request</h4> <div class="language- extra-class"><pre class="language-text"><code>server.on('request',function (request,response) 
{

}
</code></pre></div><h6 id="request-url"><a href="#request-url" aria-hidden="true" class="header-anchor">#</a> request.url</h6> <ul><li>//请求地址</li> <li>允许所有域访问</li></ul> <div class="language- extra-class"><pre class="language-text"><code>res.setHeader('Access-Control-Allow-Origin', '*')
</code></pre></div><h4 id="_5-响应对象-response"><a href="#_5-响应对象-response" aria-hidden="true" class="header-anchor">#</a> 5.响应对象  response</h4> <h6 id="response-write"><a href="#response-write" aria-hidden="true" class="header-anchor">#</a> response.write</h6> <ul><li>//发送一个请求主体的数据块。</li></ul> <h6 id="response-end"><a href="#response-end" aria-hidden="true" class="header-anchor">#</a> response.end</h6> <ul><li>此方法向服务器发出信号，表明已发送所有响应头和主体，该服务器应该视为此消息已完成。 必须在每个响应上调用此 <code>response.end()</code> 方法。</li></ul> <h3 id="json-stringify-obj"><a href="#json-stringify-obj" aria-hidden="true" class="header-anchor">#</a> JSON.stringify(obj)</h3> <ul><li>response不能传对象，需要用JSON.stringify(obj)//将对象转换成JSON</li></ul> <h3 id="json-parse-str"><a href="#json-parse-str" aria-hidden="true" class="header-anchor">#</a> JSON.parse(str)</h3> <ul><li>JSON.parse(str)将字符串转换成对象</li></ul> <h3 id="重定向-301"><a href="#重定向-301" aria-hidden="true" class="header-anchor">#</a> 重定向 301</h3> <ul><li>301转向(或叫<a href="https://baike.baidu.com/item/301%E9%87%8D%E5%AE%9A%E5%90%91/1135400" target="_blank" rel="noopener noreferrer">301重定向<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，301跳转)是当用户或搜索引擎向网站服务器发出浏览请求时，服务器返回的HTTP数据流中头信息(header)中的状态码的一种，表示本网页永久性转移到另一个地址。</li></ul> <h3 id="重定向-302"><a href="#重定向-302" aria-hidden="true" class="header-anchor">#</a> 重定向 302</h3> <ul><li>302重定向又称之为暂时性转移(Temporarily Moved )，英文名称：302 redirect。 也被认为是<a href="https://baike.baidu.com/item/%E6%9A%82%E6%97%B6%E9%87%8D%E5%AE%9A%E5%90%91/580233" target="_blank" rel="noopener noreferrer">暂时重定向<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>（temporary redirect），一条对网站浏览器的指令来显示浏览器被要求显示的不同的URL，当一个网页经历过短期的URL的变化时使用。一个暂时重定向是一种服务器端的重定向，能够被<a href="https://baike.baidu.com/item/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E8%9C%98%E8%9B%9B/9781549" target="_blank" rel="noopener noreferrer">搜索引擎蜘蛛<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>正确地处理。</li> <li>Location响应报头域用于重定向接受者到一个新的位置。例如：客户端所请求的页面已不存在原先的位置，为了让客户端重定向到这个页面新的位置，服务器端可以发回Location响应报头后使用重定向语句，让客户端去访问新的域名所对应的服务器上的资源。</li></ul> <div class="language- extra-class"><pre class="language-text"><code>response.statusCode=302
response.setHeader('Location','/')
response.end()
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>var http=require('http')

var server=http.createServer()//创建实例

server.listen(8080,function () {
    console.log('    服务器启动成功，http://127.0.0.1：8080  ');
})//启动服务器

server.on('request',function (request,response) {
    console.log(request.url);//访问的url
    let a ={
        a:1,
        b:2
    }

    if(request.url==='/'){
        response.end(JSON.stringify(a))//响应必须用end结束
        console.log(a);
    }else{
console.log('1')
    }
    
})//接受请求
</code></pre></div><h3 id="url"><a href="#url" aria-hidden="true" class="header-anchor">#</a> url</h3> <div class="language- extra-class"><pre class="language-text"><code>var url = require('url')
var obj = url.parse('/asd?name=阿萨德&amp;messs=a阿萨德',true)
console.log(obj.query.name);
</code></pre></div><h3 id="module"><a href="#module" aria-hidden="true" class="header-anchor">#</a> module</h3> <p>Node没有全局作用域</p> <ul><li>模块中的<strong>路径标识</strong>，相对于<strong>当前文件目录</strong>，不受<strong>Node命令所处路径影响</strong></li></ul> <h4 id="require-2"><a href="#require-2" aria-hidden="true" class="header-anchor">#</a> require</h4> <ul><li>加载文件模块并执行代码</li> <li>拿到被加载文件模块导出的接口对象</li></ul> <h4 id="exports-2"><a href="#exports-2" aria-hidden="true" class="header-anchor">#</a> exports</h4> <blockquote><p>导出模块</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>exports为module.exports的简写
//require真正引用的是module.exports，exports中保存的是地址指引
</code></pre></div><p>导出默认方法：</p> <div class="language- extra-class"><pre class="language-text"><code>//js.js
let uurl=require('./url')
uurl()
//congole  '哈哈哈'
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>//url.js
function a (){
    console.log('哈哈哈')
}
module.exports=a
</code></pre></div><p>导出指定方法</p> <div class="language- extra-class"><pre class="language-text"><code>//js.js
let uurl=require('./url')
uurl.hah()
//congole  '哈哈哈'
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>//url.js
function a (){
    console.log('哈哈哈')
}
exports.hah=a
</code></pre></div><ul><li>exports默认是空对象</li> <li>路径 不能省略./</li> <li>二进制使用toString()</li></ul> <h2 id="node-api笔记"><a href="#node-api笔记" aria-hidden="true" class="header-anchor">#</a> node API笔记</h2> <h3 id="buffer"><a href="#buffer" aria-hidden="true" class="header-anchor">#</a> buffer</h3> <p>为了使 <code>Buffer</code> 实例的创建更可靠且更不容易出错，各种形式的 <code>new Buffer()</code> 构造函数都已被弃用，且改为单独的 <code>Buffer.from()</code>，<a href="http://nodejs.cn/s/Du96og" target="_blank" rel="noopener noreferrer"><code>Buffer.alloc()</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 和 <a href="http://nodejs.cn/s/TWpeWk" target="_blank" rel="noopener noreferrer"><code>Buffer.allocUnsafe()</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 方法。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">4/11/2020, 2:38:35 AM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/note/blog/Server/NodeJs/Express/">
          Express
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/note/assets/js/app.56227b0f.js" defer></script><script src="/note/assets/js/2.a1b42ab7.js" defer></script><script src="/note/assets/js/44.fd4de19b.js" defer></script>
  </body>
</html>

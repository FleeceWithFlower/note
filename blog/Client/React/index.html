<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Cli（脚手架） | FleeceWithFlower</title>
    <meta name="description" content="Blog">
    <link rel="icon" href="/note/icon1.png">
    
    <link rel="preload" href="/note/assets/css/0.styles.d0b6534a.css" as="style"><link rel="preload" href="/note/assets/js/app.56227b0f.js" as="script"><link rel="preload" href="/note/assets/js/2.a1b42ab7.js" as="script"><link rel="preload" href="/note/assets/js/20.60ed7a78.js" as="script"><link rel="prefetch" href="/note/assets/js/10.3c27c8c3.js"><link rel="prefetch" href="/note/assets/js/11.a67f9cc2.js"><link rel="prefetch" href="/note/assets/js/12.cd335187.js"><link rel="prefetch" href="/note/assets/js/13.b7a01fc9.js"><link rel="prefetch" href="/note/assets/js/14.08ce967e.js"><link rel="prefetch" href="/note/assets/js/15.bc8e8cdb.js"><link rel="prefetch" href="/note/assets/js/16.7090999e.js"><link rel="prefetch" href="/note/assets/js/17.1fd199b3.js"><link rel="prefetch" href="/note/assets/js/18.8015fdc4.js"><link rel="prefetch" href="/note/assets/js/19.38b23b13.js"><link rel="prefetch" href="/note/assets/js/21.23fba4d2.js"><link rel="prefetch" href="/note/assets/js/22.fffa5a06.js"><link rel="prefetch" href="/note/assets/js/23.d877f07f.js"><link rel="prefetch" href="/note/assets/js/24.cbd16133.js"><link rel="prefetch" href="/note/assets/js/25.2e8c1b4f.js"><link rel="prefetch" href="/note/assets/js/26.0498bf9a.js"><link rel="prefetch" href="/note/assets/js/27.0c2c2747.js"><link rel="prefetch" href="/note/assets/js/28.999ca624.js"><link rel="prefetch" href="/note/assets/js/29.614be100.js"><link rel="prefetch" href="/note/assets/js/3.df5a3d12.js"><link rel="prefetch" href="/note/assets/js/30.7e192876.js"><link rel="prefetch" href="/note/assets/js/31.2a0770ef.js"><link rel="prefetch" href="/note/assets/js/32.cb2efd44.js"><link rel="prefetch" href="/note/assets/js/33.89a83cd1.js"><link rel="prefetch" href="/note/assets/js/34.c8f85729.js"><link rel="prefetch" href="/note/assets/js/35.38a2fed9.js"><link rel="prefetch" href="/note/assets/js/36.7c72811e.js"><link rel="prefetch" href="/note/assets/js/37.c8df8188.js"><link rel="prefetch" href="/note/assets/js/38.456793af.js"><link rel="prefetch" href="/note/assets/js/39.78b28908.js"><link rel="prefetch" href="/note/assets/js/4.eab7aee1.js"><link rel="prefetch" href="/note/assets/js/40.f0c7bfd4.js"><link rel="prefetch" href="/note/assets/js/41.e3bdf42f.js"><link rel="prefetch" href="/note/assets/js/42.3dd54267.js"><link rel="prefetch" href="/note/assets/js/43.52427e53.js"><link rel="prefetch" href="/note/assets/js/44.fd4de19b.js"><link rel="prefetch" href="/note/assets/js/45.9f1a63f8.js"><link rel="prefetch" href="/note/assets/js/46.9d17d390.js"><link rel="prefetch" href="/note/assets/js/47.a666dc88.js"><link rel="prefetch" href="/note/assets/js/48.5776f2c0.js"><link rel="prefetch" href="/note/assets/js/49.2633cc2b.js"><link rel="prefetch" href="/note/assets/js/5.2f3b55aa.js"><link rel="prefetch" href="/note/assets/js/50.2840b92c.js"><link rel="prefetch" href="/note/assets/js/51.3d87d974.js"><link rel="prefetch" href="/note/assets/js/52.b015f2f3.js"><link rel="prefetch" href="/note/assets/js/53.9de4192d.js"><link rel="prefetch" href="/note/assets/js/54.e8314561.js"><link rel="prefetch" href="/note/assets/js/55.3280de1b.js"><link rel="prefetch" href="/note/assets/js/56.3a11e188.js"><link rel="prefetch" href="/note/assets/js/57.603b7444.js"><link rel="prefetch" href="/note/assets/js/58.1ffc33ae.js"><link rel="prefetch" href="/note/assets/js/59.a116dba8.js"><link rel="prefetch" href="/note/assets/js/6.4a032d23.js"><link rel="prefetch" href="/note/assets/js/60.c373dc7c.js"><link rel="prefetch" href="/note/assets/js/61.e0f71b64.js"><link rel="prefetch" href="/note/assets/js/62.e0d1988a.js"><link rel="prefetch" href="/note/assets/js/63.a3b40dd1.js"><link rel="prefetch" href="/note/assets/js/64.f460ce5f.js"><link rel="prefetch" href="/note/assets/js/65.2e2233fc.js"><link rel="prefetch" href="/note/assets/js/66.2039b6e3.js"><link rel="prefetch" href="/note/assets/js/67.45a41677.js"><link rel="prefetch" href="/note/assets/js/68.7f57c46e.js"><link rel="prefetch" href="/note/assets/js/69.c4868d1e.js"><link rel="prefetch" href="/note/assets/js/7.9f677a48.js"><link rel="prefetch" href="/note/assets/js/70.38fb93df.js"><link rel="prefetch" href="/note/assets/js/71.f9910482.js"><link rel="prefetch" href="/note/assets/js/72.49cb5c51.js"><link rel="prefetch" href="/note/assets/js/73.d683c8ab.js"><link rel="prefetch" href="/note/assets/js/74.1e533b3a.js"><link rel="prefetch" href="/note/assets/js/75.bc8d2e7b.js"><link rel="prefetch" href="/note/assets/js/76.de0cac09.js"><link rel="prefetch" href="/note/assets/js/77.68d626ef.js"><link rel="prefetch" href="/note/assets/js/78.1bd0ac57.js"><link rel="prefetch" href="/note/assets/js/79.5a736574.js"><link rel="prefetch" href="/note/assets/js/8.e6847035.js"><link rel="prefetch" href="/note/assets/js/80.6a726272.js"><link rel="prefetch" href="/note/assets/js/81.1eaff167.js"><link rel="prefetch" href="/note/assets/js/82.aeb62fbc.js"><link rel="prefetch" href="/note/assets/js/83.280b5c93.js"><link rel="prefetch" href="/note/assets/js/84.bbd17106.js"><link rel="prefetch" href="/note/assets/js/85.1c60d50d.js"><link rel="prefetch" href="/note/assets/js/86.0ce74629.js"><link rel="prefetch" href="/note/assets/js/87.b510fe79.js"><link rel="prefetch" href="/note/assets/js/9.17278cdb.js">
    <link rel="stylesheet" href="/note/assets/css/0.styles.d0b6534a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/note/" class="home-link router-link-active"><!----> <span class="site-name">FleeceWithFlower</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/note/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Client</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/blog/Client/JS/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Client/Vue/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Client/React/" class="nav-link router-link-exact-active router-link-active">React</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Server</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/blog/Server/Java/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/NodeJs/" class="nav-link">NodeJs</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/Groovy/" class="nav-link">Groovy</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/Kotlin/" class="nav-link">Kotlin</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/MongoDB/" class="nav-link">MongoDB</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/MySQL/" class="nav-link">MySQL</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/C/" class="nav-link">C</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">OS</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/blog/Server/Linux/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/Windows/" class="nav-link">Windows</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Tools</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/blog/Tools/Cordova/" class="nav-link">Cordova</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/Git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/HTTP/" class="nav-link">HTTP</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/MarkDown/" class="nav-link">MarkDown</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/Nginx/" class="nav-link">Nginx</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/Npm/" class="nav-link">Npm</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/shell/" class="nav-link">Shell</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/vim/" class="nav-link">Vim</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/VuePress/" class="nav-link">VuePress</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/yum/" class="nav-link">Yum</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/typeScript/" class="nav-link">TypeScript</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/flux/" class="nav-link">Flux</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/note/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Client</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/blog/Client/JS/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Client/Vue/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Client/React/" class="nav-link router-link-exact-active router-link-active">React</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Server</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/blog/Server/Java/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/NodeJs/" class="nav-link">NodeJs</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/Groovy/" class="nav-link">Groovy</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/Kotlin/" class="nav-link">Kotlin</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/MongoDB/" class="nav-link">MongoDB</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/MySQL/" class="nav-link">MySQL</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/C/" class="nav-link">C</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">OS</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/blog/Server/Linux/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/Windows/" class="nav-link">Windows</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Tools</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/blog/Tools/Cordova/" class="nav-link">Cordova</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/Git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/HTTP/" class="nav-link">HTTP</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/MarkDown/" class="nav-link">MarkDown</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/Nginx/" class="nav-link">Nginx</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/Npm/" class="nav-link">Npm</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/shell/" class="nav-link">Shell</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/vim/" class="nav-link">Vim</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/VuePress/" class="nav-link">VuePress</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/yum/" class="nav-link">Yum</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/typeScript/" class="nav-link">TypeScript</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/flux/" class="nav-link">Flux</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Cli（脚手架）</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/note/blog/Client/React/#cli（脚手架）" class="sidebar-link">Cli（脚手架）</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/note/blog/Client/React/#自定义配置" class="sidebar-link">自定义配置</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/note/blog/Client/React/#组件" class="sidebar-link">组件</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/note/blog/Client/React/#props" class="sidebar-link">props</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/note/blog/Client/React/#state" class="sidebar-link">state</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/note/blog/Client/React/#style" class="sidebar-link">Style</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/note/blog/Client/React/#css" class="sidebar-link">CSS</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/note/blog/Client/React/#事件" class="sidebar-link">事件</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/note/blog/Client/React/#表单" class="sidebar-link">表单</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/note/blog/Client/React/#生命周期" class="sidebar-link">生命周期</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/blog/Client/React/#挂载" class="sidebar-link">挂载</a></li><li class="sidebar-sub-header"><a href="/note/blog/Client/React/#更新" class="sidebar-link">更新</a></li><li class="sidebar-sub-header"><a href="/note/blog/Client/React/#卸载" class="sidebar-link">卸载</a></li><li class="sidebar-sub-header"><a href="/note/blog/Client/React/#错误处理" class="sidebar-link">错误处理</a></li></ul></li><li><a href="/note/blog/Client/React/#组合-继承" class="sidebar-link">组合&amp;继承</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/note/blog/Client/React/#context" class="sidebar-link">Context</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/note/blog/Client/React/#错误边界" class="sidebar-link">错误边界</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/note/blog/Client/React/#refs-转发" class="sidebar-link">Refs 转发</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/note/blog/Client/React/#fragments" class="sidebar-link">Fragments</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/note/blog/Client/React/#高阶组件（hoc）" class="sidebar-link">高阶组件（HOC）</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/note/blog/Client/React/#hook" class="sidebar-link">Hook</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/note/blog/Client/React/#redux" class="sidebar-link">redux</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="cli（脚手架）"><a href="#cli（脚手架）" aria-hidden="true" class="header-anchor">#</a> Cli（脚手架）</h2> <div class="language- extra-class"><pre class="language-text"><code>npx create-react-app my-app
</code></pre></div><h2 id="自定义配置"><a href="#自定义配置" aria-hidden="true" class="header-anchor">#</a> 自定义配置</h2> <p>安装</p> <div class="language- extra-class"><pre class="language-text"><code>npm i react
npm i react-dom
</code></pre></div><p>jsx安装</p> <div class="language- extra-class"><pre class="language-text"><code>npm i @babel/core -D
npm i babel-loader -D
npm i @babel/plugin-transform-runtime -D
npm i @babel/preset-env -D
npm i @babel/preset-react -D
</code></pre></div><p>.babelrc</p> <div class="language- extra-class"><pre class="language-text"><code>{
  &quot;presets&quot;: [&quot;@babel/preset-react&quot;,&quot;@babel/preset-env&quot;],
  &quot;plugins&quot;:[&quot;@babel/plugin-transform-runtime&quot;]
}
</code></pre></div><p>webbpack.config.js</p> <div class="language- extra-class"><pre class="language-text"><code>const config ={
module: {
        rules: [
            {
                test: /\.js|jsx$/,
                use:'babel-loader',
                exclude: /node_modules/
            }
        ]
    }
}
</code></pre></div><h2 id="组件"><a href="#组件" aria-hidden="true" class="header-anchor">#</a> 组件</h2> <ul><li>函数定义组件</li></ul> <div class="language- extra-class"><pre class="language-text"><code>//开头字母大写
function MyComponent(){
	return &lt;div&gt;我是组件1&lt;/div&gt;
}
</code></pre></div><ul><li><p>class定义组件</p> <blockquote><p>与函数定义组件区别，有私有数据和生命周期</p></blockquote></li></ul> <div class="language- extra-class"><pre class="language-text"><code>class MyComponent extends React.Component{
	constructor(){
		super()
		this.state={
			count:0
		}
	}
	render(){
		return &lt;div&gt;我是组件1&lt;/div&gt;
	}
}
</code></pre></div><h2 id="props"><a href="#props" aria-hidden="true" class="header-anchor">#</a> props</h2> <ul><li>函数组件</li></ul> <div class="language- extra-class"><pre class="language-text"><code>function MyComponent(props){
	return &lt;div&gt;{props.person.name}&lt;/div&gt;
}
let person={
    name:'小明',
    age:'5岁'
}
let dom = &lt;MyComponent person={person}&gt;&lt;/MyComponent&gt;
</code></pre></div><ul><li>class组件</li></ul> <div class="language- extra-class"><pre class="language-text"><code>class MyComponent extends React.Component{
	render(){
		return &lt;div&gt;{person.name}&lt;/div&gt;
		//return &lt;div&gt;{this.props.person.name}&lt;/div&gt;
	}
}
let person={
    name:'小明',
    age:'5岁'
}
let dom = &lt;MyComponent person={person}&gt;&lt;/MyComponent&gt;
</code></pre></div><h2 id="state"><a href="#state" aria-hidden="true" class="header-anchor">#</a> state</h2> <div class="language- extra-class"><pre class="language-text"><code>class MyComponent extends React.Component{
    constructor(){
        super();
        this.state={
             person:'小明'
        }
    }
}

</code></pre></div><ul><li>setState</li></ul> <div class="language- extra-class"><pre class="language-text"><code>this.setState((state, props) =&gt; ({
  counter: state.counter + props.increment
}));
</code></pre></div><h2 id="style"><a href="#style" aria-hidden="true" class="header-anchor">#</a> Style</h2> <div class="language- extra-class"><pre class="language-text"><code> &lt;h1 style={{color:'red'}}&gt;评论区列表&lt;/h1&gt;
</code></pre></div><h2 id="css"><a href="#css" aria-hidden="true" class="header-anchor">#</a> CSS</h2> <div class="language- extra-class"><pre class="language-text"><code> &lt;h1 className=&quot;color-red&quot;&gt;评论区列表&lt;/h1&gt;
</code></pre></div><h2 id="事件"><a href="#事件" aria-hidden="true" class="header-anchor">#</a> 事件</h2> <p>class fields</p> <blockquote><p>绑定this</p></blockquote> <ul><li>安装</li></ul> <div class="language- extra-class"><pre class="language-text"><code>npm install --save-dev @babel/plugin-proposal-class-properties
</code></pre></div><ul><li>配置</li></ul> <div class="language- extra-class"><pre class="language-text"><code>//.babelrc
{
  &quot;plugins&quot;: [&quot;@babel/plugin-proposal-class-properties&quot;]
}
</code></pre></div><ul><li>用法</li></ul> <div class="language- extra-class"><pre class="language-text"><code>class MyComponent extends React.Component{
	handleClick = () =&gt; {
   		 console.log('this is:', this);
  	}
}
</code></pre></div><p>传参</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;button onClick={(e) =&gt; this.deleteRow(id, e)}&gt;Delete Row&lt;/button&gt;
</code></pre></div><h2 id="表单"><a href="#表单" aria-hidden="true" class="header-anchor">#</a> 表单</h2> <h4 id="受控组件"><a href="#受控组件" aria-hidden="true" class="header-anchor">#</a> 受控组件</h4> <blockquote><p>input绑定state</p></blockquote> <div class="language-react extra-class"><pre class="language-text"><code>class MyComponent extends React.Component{
    constructor() {
        this.state = {
            count: 0,
        }
    }
    change = (e) =&gt; {
       this.setState(()=&gt;({
            count:e.target.value
        }))
    }
    render() {
        return &lt;div&gt;
            &lt;input
           onChange={this.change}
           value={this.state.count}/&gt;
 &lt;/div&gt;}
}
</code></pre></div><h4 id="非受控组件"><a href="#非受控组件" aria-hidden="true" class="header-anchor">#</a> 非受控组件</h4> <h2 id="生命周期"><a href="#生命周期" aria-hidden="true" class="header-anchor">#</a> 生命周期</h2> <blockquote><p>组件实例，从创建、运行、销毁	会触发一系列事件，这些事件叫做组件的生命周期函数</p></blockquote> <h3 id="挂载"><a href="#挂载" aria-hidden="true" class="header-anchor">#</a> 挂载</h3> <ul><li><p>constructor</p> <blockquote><ul><li>通过给 <code>this.state</code> 赋值对象来初始化内部 state。</li></ul></blockquote></li> <li><p>static getDerivedStateFromProps</p></li> <li><p>render</p></li> <li><p>componentDidMount</p> <blockquote><p>组件挂载后（插入 DOM 树中）调用</p></blockquote></li></ul> <h3 id="更新"><a href="#更新" aria-hidden="true" class="header-anchor">#</a> 更新</h3> <ul><li><p>static <a href="https://zh-hans.reactjs.org/docs/react-component.html#static-getderivedstatefromprops" target="_blank" rel="noopener noreferrer">getDerivedStateFromProps<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <blockquote><p>在调用 render 方法之前调用，并且在初始挂载及后续更新时都会被调用。</p></blockquote></li> <li><p><a href="https://zh-hans.reactjs.org/docs/optimizing-performance.html#shouldcomponentupdate-in-action" target="_blank" rel="noopener noreferrer">shouldComponentUpdate<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <blockquote><p>根据返回值判断是否重新渲染页面</p></blockquote></li> <li><p>render</p></li> <li><p><a href="https://zh-hans.reactjs.org/docs/react-component.html#getsnapshotbeforeupdate" target="_blank" rel="noopener noreferrer">getSnapshotBeforeUpdate<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <blockquote><p>在最近一次渲染输出（提交到 DOM 节点）之前调用</p></blockquote></li> <li><p><a href="https://zh-hans.reactjs.org/docs/react-component.html#componentdidupdate" target="_blank" rel="noopener noreferrer">componentDidUpdate<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <blockquote><p>更新后调用。首次渲染不会执行此方法。</p></blockquote></li></ul> <h3 id="卸载"><a href="#卸载" aria-hidden="true" class="header-anchor">#</a> 卸载</h3> <ul><li><p><a href="https://zh-hans.reactjs.org/docs/react-component.html#componentwillunmount" target="_blank" rel="noopener noreferrer">componentWillUnmount<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <blockquote><p>组件卸载及销毁之前直接调用</p></blockquote></li></ul> <h3 id="错误处理"><a href="#错误处理" aria-hidden="true" class="header-anchor">#</a> 错误处理</h3> <ul><li><p>static <a href="https://zh-hans.reactjs.org/docs/react-component.html#static-getderivedstatefromerror" target="_blank" rel="noopener noreferrer">getDerivedStateFromError<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <blockquote><p>此生命周期会在后代组件抛出错误后被调用。</p></blockquote></li> <li><p><a href="https://zh-hans.reactjs.org/docs/react-component.html#componentdidcatch" target="_blank" rel="noopener noreferrer">componentDidCatch<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <blockquote><p>此生命周期在后代组件抛出错误后被调用</p></blockquote></li></ul> <h2 id="组合-继承"><a href="#组合-继承" aria-hidden="true" class="header-anchor">#</a> 组合&amp;继承</h2> <blockquote><p>接收父组件未知子节点，并在子组件指定位子渲染</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>//parent
render(){
	return &lt;MyComponent&gt;
		&lt;div&gt;我在子组件中被渲染&lt;/div&gt;
	&lt;/MyComponent&gt;
}
//child
render(){
	return &lt;div&gt;
	{this.props.children}
	&lt;/div&gt; 
}
</code></pre></div><p>跨域</p> <div class="language- extra-class"><pre class="language-text"><code>// `package.json`
&quot;proxy&quot;: &quot;http://localhost:4000&quot;
</code></pre></div><h2 id="context"><a href="#context" aria-hidden="true" class="header-anchor">#</a> <a href="https://zh-hans.reactjs.org/docs/context.html" target="_blank" rel="noopener noreferrer">Context<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2> <ul><li>创建</li></ul> <div class="language- extra-class"><pre class="language-text"><code>const MyContext = React.createContext(defaultValue);
</code></pre></div><ul><li><p>&lt;Provider&gt;</p> <blockquote><p>传值</p></blockquote></li></ul> <div class="language- extra-class"><pre class="language-text"><code>const MyContext = React.createContext(defaultValue);
&lt;MyContext.provider value={/* 某个值 */}&gt;
</code></pre></div><ul><li><p>contextType</p> <blockquote><p>接收 provide</p></blockquote></li></ul> <div class="language- extra-class"><pre class="language-text"><code>import MyContext form './MyContext'
class MyClass extends React.Component {
  render() {
    let value = this.context;
    /* 基于这个值进行渲染工作 */
  }
}
MyClass.contextType = MyContext;

//public class fields语法
class MyClass extends React.Component {
  static contextType = MyContext;
  render() {
    let value = this.context;
    /* 基于这个值进行渲染工作 */
  }
}
</code></pre></div><ul><li><p>Consumer</p> <blockquote><p>子组件为function，接收 provide</p></blockquote></li></ul> <div class="language- extra-class"><pre class="language-text"><code>const MyContext = React.createContext(defaultValue);


function Index(props) {
    return (
		&lt;ThemeContext.Consumer&gt;
		{value =&gt; (&lt;div&gt;{value.contextValue}&lt;/div&gt;)}
 		&lt;/ThemeContext.Consumer&gt;
 		)
}
//value === this.context
</code></pre></div><h2 id="错误边界"><a href="#错误边界" aria-hidden="true" class="header-anchor">#</a> 错误边界</h2> <p>static getDerivedStateFromError</p> <blockquote><p>此生命周期会在后代组件抛出错误后被调用。 它将抛出的错误作为参数，并返回一个值以更新 state</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>    static getDerivedStateFromError(error) {
        // 更新 state 使下一次渲染能够显示降级后的 UI
        return { hasError: true,a:'wwww' };
    }

</code></pre></div><p>componentDidCatch()</p> <blockquote><p><code>componentDidCatch()</code> 会在“提交”阶段被调用，因此允许执行副作用。 它应该用于记录错误之类的情况</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>    componentDidCatch(error, errorInfo) {
        // 你同样可以将错误日志上报给服务器
        console.log(error, errorInfo);
    }
</code></pre></div><h2 id="refs-转发"><a href="#refs-转发" aria-hidden="true" class="header-anchor">#</a> <a href="https://zh-hans.reactjs.org/docs/forwarding-refs.html" target="_blank" rel="noopener noreferrer">Refs 转发<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2> <ul><li><p>React.forwardRef</p> <blockquote><p>允许组件接收ref并且转发给子组件</p></blockquote></li></ul> <h2 id="fragments"><a href="#fragments" aria-hidden="true" class="header-anchor">#</a> Fragments</h2> <blockquote><p>同Vue template，Fragments 允许你将子列表分组，而无需向 DOM 添加额外节点。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>&lt;React.Fragment&gt;
    &lt;td&gt;Hello&lt;/td&gt;
&lt;/React.Fragment&gt;
//短语法
&lt;&gt;
	&lt;td&gt;Hello&lt;/td&gt;
&lt;/&gt;
</code></pre></div><h2 id="高阶组件（hoc）"><a href="#高阶组件（hoc）" aria-hidden="true" class="header-anchor">#</a> 高阶组件（HOC）</h2> <h2 id="hook"><a href="#hook" aria-hidden="true" class="header-anchor">#</a> Hook</h2> <h2 id="redux"><a href="#redux" aria-hidden="true" class="header-anchor">#</a> redux</h2> <ul><li>安装</li></ul> <div class="language- extra-class"><pre class="language-text"><code>npm install --save react-redux
npm install --save-dev redux-devtools //调试工具
</code></pre></div><p>配置 redux-devtools</p> <div class="language- extra-class"><pre class="language-text"><code>const store=createStore(reducer,window.__REDUX_DEVTOOLS_EXTENSION__ &amp;&amp; window.__REDUX_DEVTOOLS_EXTENSION__())
</code></pre></div><p>store</p> <div class="language- extra-class"><pre class="language-text"><code>import {createStore} from 'redux'
import reducer from './reducer'
const store=createStore(reducer,window.__REDUX_DEVTOOLS_EXTENSION__ &amp;&amp; window.__REDUX_DEVTOOLS_EXTENSION__())
export default  store
</code></pre></div><ul><li><p>getState</p> <blockquote><p>读值</p></blockquote></li> <li><p>subscribe</p> <blockquote><p>store改变时触发函数</p></blockquote></li> <li><p>setState</p> <blockquote><p>subscribe触发函数,调用setState更新视图</p></blockquote></li></ul> <div class="language- extra-class"><pre class="language-text"><code>    constructor(props){
        super(props)
        this.state=store.getState()
        store.subscribe(this.changeStore)
    }
	changeStore=()=&gt;{
        this.setState(store.getState())
    }
</code></pre></div><p>reducer</p> <blockquote><p>接收旧的 state 和 action，返回新的 state</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>const defaultState = {
    person:{
        name:'K',
        age:'24'
    }
}
export default (state = defaultState,action)=&gt;{
    return state
}
</code></pre></div><p>action*</p> <p><em>reducer</em></p> <p>::: warn</p> <ol><li><p>store唯一</p></li> <li><p>store接收reducer返回的新state并改变</p></li> <li><p>reducer里必须为纯函数，<strong>只要传入参数相同，返回计算得到的下一个 state 就一定相同。</strong></p> <p><strong>永远不要</strong>在 reducer 里做这些操作：</p> <ul><li>修改传入参数；</li> <li>执行有副作用的操作，如 API 请求和路由跳转；</li> <li>调用非纯函数，如 <code>Date.now()</code> 或 <code>Math.random()</code>。</li></ul></li></ol></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">4/11/2020, 2:38:35 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/note/assets/js/app.56227b0f.js" defer></script><script src="/note/assets/js/2.a1b42ab7.js" defer></script><script src="/note/assets/js/20.60ed7a78.js" defer></script>
  </body>
</html>

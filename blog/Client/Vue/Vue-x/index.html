<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>安装 | FleeceWithFlower</title>
    <meta name="description" content="Blog">
    <link rel="icon" href="/note/icon1.png">
    
    <link rel="preload" href="/note/assets/css/0.styles.d0b6534a.css" as="style"><link rel="preload" href="/note/assets/js/app.56227b0f.js" as="script"><link rel="preload" href="/note/assets/js/2.a1b42ab7.js" as="script"><link rel="preload" href="/note/assets/js/24.cbd16133.js" as="script"><link rel="prefetch" href="/note/assets/js/10.3c27c8c3.js"><link rel="prefetch" href="/note/assets/js/11.a67f9cc2.js"><link rel="prefetch" href="/note/assets/js/12.cd335187.js"><link rel="prefetch" href="/note/assets/js/13.b7a01fc9.js"><link rel="prefetch" href="/note/assets/js/14.08ce967e.js"><link rel="prefetch" href="/note/assets/js/15.bc8e8cdb.js"><link rel="prefetch" href="/note/assets/js/16.7090999e.js"><link rel="prefetch" href="/note/assets/js/17.1fd199b3.js"><link rel="prefetch" href="/note/assets/js/18.8015fdc4.js"><link rel="prefetch" href="/note/assets/js/19.38b23b13.js"><link rel="prefetch" href="/note/assets/js/20.60ed7a78.js"><link rel="prefetch" href="/note/assets/js/21.23fba4d2.js"><link rel="prefetch" href="/note/assets/js/22.fffa5a06.js"><link rel="prefetch" href="/note/assets/js/23.d877f07f.js"><link rel="prefetch" href="/note/assets/js/25.2e8c1b4f.js"><link rel="prefetch" href="/note/assets/js/26.0498bf9a.js"><link rel="prefetch" href="/note/assets/js/27.0c2c2747.js"><link rel="prefetch" href="/note/assets/js/28.999ca624.js"><link rel="prefetch" href="/note/assets/js/29.614be100.js"><link rel="prefetch" href="/note/assets/js/3.df5a3d12.js"><link rel="prefetch" href="/note/assets/js/30.7e192876.js"><link rel="prefetch" href="/note/assets/js/31.2a0770ef.js"><link rel="prefetch" href="/note/assets/js/32.cb2efd44.js"><link rel="prefetch" href="/note/assets/js/33.89a83cd1.js"><link rel="prefetch" href="/note/assets/js/34.c8f85729.js"><link rel="prefetch" href="/note/assets/js/35.38a2fed9.js"><link rel="prefetch" href="/note/assets/js/36.7c72811e.js"><link rel="prefetch" href="/note/assets/js/37.c8df8188.js"><link rel="prefetch" href="/note/assets/js/38.456793af.js"><link rel="prefetch" href="/note/assets/js/39.78b28908.js"><link rel="prefetch" href="/note/assets/js/4.eab7aee1.js"><link rel="prefetch" href="/note/assets/js/40.f0c7bfd4.js"><link rel="prefetch" href="/note/assets/js/41.e3bdf42f.js"><link rel="prefetch" href="/note/assets/js/42.3dd54267.js"><link rel="prefetch" href="/note/assets/js/43.52427e53.js"><link rel="prefetch" href="/note/assets/js/44.fd4de19b.js"><link rel="prefetch" href="/note/assets/js/45.9f1a63f8.js"><link rel="prefetch" href="/note/assets/js/46.9d17d390.js"><link rel="prefetch" href="/note/assets/js/47.a666dc88.js"><link rel="prefetch" href="/note/assets/js/48.5776f2c0.js"><link rel="prefetch" href="/note/assets/js/49.2633cc2b.js"><link rel="prefetch" href="/note/assets/js/5.2f3b55aa.js"><link rel="prefetch" href="/note/assets/js/50.2840b92c.js"><link rel="prefetch" href="/note/assets/js/51.3d87d974.js"><link rel="prefetch" href="/note/assets/js/52.b015f2f3.js"><link rel="prefetch" href="/note/assets/js/53.9de4192d.js"><link rel="prefetch" href="/note/assets/js/54.e8314561.js"><link rel="prefetch" href="/note/assets/js/55.3280de1b.js"><link rel="prefetch" href="/note/assets/js/56.3a11e188.js"><link rel="prefetch" href="/note/assets/js/57.603b7444.js"><link rel="prefetch" href="/note/assets/js/58.1ffc33ae.js"><link rel="prefetch" href="/note/assets/js/59.a116dba8.js"><link rel="prefetch" href="/note/assets/js/6.4a032d23.js"><link rel="prefetch" href="/note/assets/js/60.c373dc7c.js"><link rel="prefetch" href="/note/assets/js/61.e0f71b64.js"><link rel="prefetch" href="/note/assets/js/62.e0d1988a.js"><link rel="prefetch" href="/note/assets/js/63.a3b40dd1.js"><link rel="prefetch" href="/note/assets/js/64.f460ce5f.js"><link rel="prefetch" href="/note/assets/js/65.2e2233fc.js"><link rel="prefetch" href="/note/assets/js/66.2039b6e3.js"><link rel="prefetch" href="/note/assets/js/67.45a41677.js"><link rel="prefetch" href="/note/assets/js/68.7f57c46e.js"><link rel="prefetch" href="/note/assets/js/69.c4868d1e.js"><link rel="prefetch" href="/note/assets/js/7.9f677a48.js"><link rel="prefetch" href="/note/assets/js/70.38fb93df.js"><link rel="prefetch" href="/note/assets/js/71.f9910482.js"><link rel="prefetch" href="/note/assets/js/72.49cb5c51.js"><link rel="prefetch" href="/note/assets/js/73.d683c8ab.js"><link rel="prefetch" href="/note/assets/js/74.1e533b3a.js"><link rel="prefetch" href="/note/assets/js/75.bc8d2e7b.js"><link rel="prefetch" href="/note/assets/js/76.de0cac09.js"><link rel="prefetch" href="/note/assets/js/77.68d626ef.js"><link rel="prefetch" href="/note/assets/js/78.1bd0ac57.js"><link rel="prefetch" href="/note/assets/js/79.5a736574.js"><link rel="prefetch" href="/note/assets/js/8.e6847035.js"><link rel="prefetch" href="/note/assets/js/80.6a726272.js"><link rel="prefetch" href="/note/assets/js/81.1eaff167.js"><link rel="prefetch" href="/note/assets/js/82.aeb62fbc.js"><link rel="prefetch" href="/note/assets/js/83.280b5c93.js"><link rel="prefetch" href="/note/assets/js/84.bbd17106.js"><link rel="prefetch" href="/note/assets/js/85.1c60d50d.js"><link rel="prefetch" href="/note/assets/js/86.0ce74629.js"><link rel="prefetch" href="/note/assets/js/87.b510fe79.js"><link rel="prefetch" href="/note/assets/js/9.17278cdb.js">
    <link rel="stylesheet" href="/note/assets/css/0.styles.d0b6534a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/note/" class="home-link router-link-active"><!----> <span class="site-name">FleeceWithFlower</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/note/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Client</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/blog/Client/JS/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Client/Vue/" class="nav-link router-link-active">Vue</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Client/React/" class="nav-link">React</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Server</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/blog/Server/Java/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/NodeJs/" class="nav-link">NodeJs</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/Groovy/" class="nav-link">Groovy</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/Kotlin/" class="nav-link">Kotlin</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/MongoDB/" class="nav-link">MongoDB</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/MySQL/" class="nav-link">MySQL</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/C/" class="nav-link">C</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">OS</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/blog/Server/Linux/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/Windows/" class="nav-link">Windows</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Tools</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/blog/Tools/Cordova/" class="nav-link">Cordova</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/Git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/HTTP/" class="nav-link">HTTP</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/MarkDown/" class="nav-link">MarkDown</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/Nginx/" class="nav-link">Nginx</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/Npm/" class="nav-link">Npm</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/shell/" class="nav-link">Shell</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/vim/" class="nav-link">Vim</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/VuePress/" class="nav-link">VuePress</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/yum/" class="nav-link">Yum</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/typeScript/" class="nav-link">TypeScript</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/flux/" class="nav-link">Flux</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/note/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Client</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/blog/Client/JS/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Client/Vue/" class="nav-link router-link-active">Vue</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Client/React/" class="nav-link">React</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Server</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/blog/Server/Java/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/NodeJs/" class="nav-link">NodeJs</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/Groovy/" class="nav-link">Groovy</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/Kotlin/" class="nav-link">Kotlin</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/MongoDB/" class="nav-link">MongoDB</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/MySQL/" class="nav-link">MySQL</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/C/" class="nav-link">C</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">OS</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/blog/Server/Linux/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Server/Windows/" class="nav-link">Windows</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Tools</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/blog/Tools/Cordova/" class="nav-link">Cordova</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/Git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/HTTP/" class="nav-link">HTTP</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/MarkDown/" class="nav-link">MarkDown</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/Nginx/" class="nav-link">Nginx</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/Npm/" class="nav-link">Npm</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/shell/" class="nav-link">Shell</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/vim/" class="nav-link">Vim</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/VuePress/" class="nav-link">VuePress</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/yum/" class="nav-link">Yum</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/typeScript/" class="nav-link">TypeScript</a></li><li class="dropdown-item"><!----> <a href="/note/blog/Tools/flux/" class="nav-link">Flux</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/note/blog/Client/Vue/" class="sidebar-link">Vue</a></li><li><a href="/note/blog/Client/Vue/Vue-x/" class="active sidebar-link">Vue-x</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/blog/Client/Vue/Vue-x/#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/note/blog/Client/Vue/Vue-x/#引用" class="sidebar-link">引用</a></li><li class="sidebar-sub-header"><a href="/note/blog/Client/Vue/Vue-x/#引库" class="sidebar-link">引库</a></li><li class="sidebar-sub-header"><a href="/note/blog/Client/Vue/Vue-x/#引入商店" class="sidebar-link">引入商店</a></li><li class="sidebar-sub-header"><a href="/note/blog/Client/Vue/Vue-x/#组件引入商店" class="sidebar-link">组件引入商店</a></li><li class="sidebar-sub-header"><a href="/note/blog/Client/Vue/Vue-x/#this-store" class="sidebar-link">this.$store</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/blog/Client/Vue/Vue-x/#store" class="sidebar-link">store</a></li><li class="sidebar-sub-header"><a href="/note/blog/Client/Vue/Vue-x/#state" class="sidebar-link">state</a></li><li class="sidebar-sub-header"><a href="/note/blog/Client/Vue/Vue-x/#mapstate" class="sidebar-link">mapState</a></li><li class="sidebar-sub-header"><a href="/note/blog/Client/Vue/Vue-x/#用法" class="sidebar-link">用法</a></li><li class="sidebar-sub-header"><a href="/note/blog/Client/Vue/Vue-x/#与其他本地计算属性结合使用" class="sidebar-link">与其他本地计算属性结合使用</a></li><li class="sidebar-sub-header"><a href="/note/blog/Client/Vue/Vue-x/#getter" class="sidebar-link">Getter</a></li><li class="sidebar-sub-header"><a href="/note/blog/Client/Vue/Vue-x/#mapgetters" class="sidebar-link">mapGetters</a></li><li class="sidebar-sub-header"><a href="/note/blog/Client/Vue/Vue-x/#mutation" class="sidebar-link">Mutation</a></li><li class="sidebar-sub-header"><a href="/note/blog/Client/Vue/Vue-x/#mapmutations" class="sidebar-link">mapMutations</a></li><li class="sidebar-sub-header"><a href="/note/blog/Client/Vue/Vue-x/#context" class="sidebar-link">context</a></li><li class="sidebar-sub-header"><a href="/note/blog/Client/Vue/Vue-x/#store-dispatch" class="sidebar-link">store.dispatch</a></li><li class="sidebar-sub-header"><a href="/note/blog/Client/Vue/Vue-x/#payload" class="sidebar-link">payload</a></li><li class="sidebar-sub-header"><a href="/note/blog/Client/Vue/Vue-x/#mapactions" class="sidebar-link">mapActions</a></li><li class="sidebar-sub-header"><a href="/note/blog/Client/Vue/Vue-x/#module" class="sidebar-link">Module</a></li><li class="sidebar-sub-header"><a href="/note/blog/Client/Vue/Vue-x/#state-2" class="sidebar-link">state</a></li><li class="sidebar-sub-header"><a href="/note/blog/Client/Vue/Vue-x/#getter-2" class="sidebar-link">Getter</a></li></ul></li></ul></li><li><a href="/note/blog/Client/Vue/Vue-router/" class="sidebar-link">Vue-router</a></li><li><a href="/note/blog/Client/Vue/Axios/" class="sidebar-link">Axios</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="安装"><a href="#安装" aria-hidden="true" class="header-anchor">#</a> 安装</h2> <ul><li>Vuex是Vue.js应用程序的<strong>状态管理模式+库</strong></li></ul> <div class="language- extra-class"><pre class="language-text"><code>npm i vuex
</code></pre></div><h2 id="引用"><a href="#引用" aria-hidden="true" class="header-anchor">#</a> 引用</h2> <ul><li>与模块系统一起使用时，必须通过<code>Vue.use()</code>以下方式显式安装Vuex ：</li></ul> <div class="language- extra-class"><pre class="language-text"><code>import Vue from 'vue'
import Vuex from 'vuex'
Vue.use(Vuex)
</code></pre></div><h2 id="引库"><a href="#引库" aria-hidden="true" class="header-anchor">#</a> 引库</h2> <h2 id="引入商店"><a href="#引入商店" aria-hidden="true" class="header-anchor">#</a> 引入商店</h2> <ul><li>可使用计算属性引入</li></ul> <div class="language- extra-class"><pre class="language-text"><code> computed: {
    count () {
      return store.state.count
    }
</code></pre></div><h2 id="组件引入商店"><a href="#组件引入商店" aria-hidden="true" class="header-anchor">#</a> 组件引入商店</h2> <h2 id="this-store"><a href="#this-store" aria-hidden="true" class="header-anchor">#</a> this.$store</h2> <ul><li>适用所有子组件</li></ul> <div class="language- extra-class"><pre class="language-text"><code>const app = new Vue({
  el: '#app',
  // provide the store using the &quot;store&quot; option.
  // this will inject the store instance to all child components.
  store,
  components: { Counter },
  template: `
    &lt;div class=&quot;app&quot;&gt;
      &lt;counter&gt;&lt;/counter&gt;
    &lt;/div&gt;
  `
})
</code></pre></div><h3 id="store"><a href="#store" aria-hidden="true" class="header-anchor">#</a> store</h3> <h3 id="state"><a href="#state" aria-hidden="true" class="header-anchor">#</a> state</h3> <h3 id="mapstate"><a href="#mapstate" aria-hidden="true" class="header-anchor">#</a> mapState</h3> <ul><li>解决 当组件需要使用多个存储状态属性或getter时，声明所有这些计算属性可能会重复且冗长。</li></ul> <h3 id="用法"><a href="#用法" aria-hidden="true" class="header-anchor">#</a> 用法</h3> <ul><li>实例中参数为Object， key=&gt;value<code>&lt;function&gt;</code> <ul><li>value<code>&lt;funtion&gt;</code> <ul><li>参数
<ul><li>state</li></ul></li></ul></li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>{
     count: state =&gt; state.count
}
</code></pre></div><ul><li>实例中参数为Object， key=&gt;value<code>&lt;function&gt;</code> <ul><li>ES6 简写</li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code> count (state) {
                return state.count + this.localCount
            }
</code></pre></div><ul><li>实例中参数为Object， key=&gt;value<code>&lt;string&gt;</code></li></ul> <div class="language- extra-class"><pre class="language-text"><code>{
countAlias: 'count',
}
</code></pre></div><ul><li>实例中参数为Array， <code>&lt;string&gt;</code> <ul><li>this.<code>&lt;value&gt;</code>和state.<code>&lt;value&gt;</code>相同时，可如下简写</li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>[
  // map this.count to store.state.count
  'count'
]
</code></pre></div><h3 id="与其他本地计算属性结合使用"><a href="#与其他本地计算属性结合使用" aria-hidden="true" class="header-anchor">#</a> 与其他本地计算属性结合使用</h3> <div class="language- extra-class"><pre class="language-text"><code>computed: {
  localComputed () { /* ... */ },
  // mix this into the outer object with the object spread operator
  ...mapState({
    // ...
  })
}
</code></pre></div><h3 id="getter"><a href="#getter" aria-hidden="true" class="header-anchor">#</a> Getter</h3> <ul><li>接受 state 作为其第一个参数</li> <li>接受其他 getter 作为第二个参数</li></ul> <div class="language- extra-class"><pre class="language-text"><code>const store = new Vuex.Store({
  state: {
    todos: [
      { id: 1, text: '...', done: true },
      { id: 2, text: '...', done: false }
    ]
  },
  getters: {
    doneTodos: state =&gt; {
      return state.todos.filter(todo =&gt; todo.done)
    }
     doneTodosCount: (state, getters) =&gt; {
    return getters.doneTodos.length
  }
  }
})
</code></pre></div><h4 id="store-getters"><a href="#store-getters" aria-hidden="true" class="header-anchor">#</a> store.getters</h4> <ul><li>通过属性访问</li></ul> <h3 id="mapgetters"><a href="#mapgetters" aria-hidden="true" class="header-anchor">#</a> mapGetters</h3> <div class="language- extra-class"><pre class="language-text"><code> ...mapGetters([
      'doneTodosCount',
      'anotherGetter',
      // ...
    ])
</code></pre></div><ul><li>getter 属性另取一个名字，使用对象形式</li></ul> <div class="language- extra-class"><pre class="language-text"><code>mapGetters({
  // 把 `this.doneCount` 映射为 `this.$store.getters.doneTodosCount`
  doneCount: 'doneTodosCount'
})
</code></pre></div><h3 id="mutation"><a href="#mutation" aria-hidden="true" class="header-anchor">#</a> Mutation</h3> <ul><li>更改 Vuex 的 store 中的状态的唯一方法是提交 mutation。</li> <li>每个 mutation 都有一个字符串的 <strong>事件类型 (type)</strong> 和 一个 <strong>回调函数 (handler)</strong></li> <li>Mutation 必须是同步函数</li></ul> <p>store.commit</p> <ul><li>需要以相应的 type 调用 <strong>store.commit</strong> 方法</li> <li><code>store.commit</code> 传入额外的参数，即 mutation 的 <strong>载荷（payload）</strong></li></ul> <div class="language- extra-class"><pre class="language-text"><code>mutations: {
  increment (state, n) {
    state.count += n
  }
}
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'increment'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>对象风格的提交方式
<ul><li>提交 mutation 的另一种方式是直接使用包含 <code>type</code> 属性的对象：</li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>store.commit({
  type: 'increment',
  amount: 10
})
</code></pre></div><h3 id="mapmutations"><a href="#mapmutations" aria-hidden="true" class="header-anchor">#</a> mapMutations</h3> <div class="language- extra-class"><pre class="language-text"><code>  methods: {
    ...mapMutations([
      'increment'])
  }
//将 `this.increment()` 映射为 `this.$store.commit('increment')`
</code></pre></div><h4 id="action"><a href="#action" aria-hidden="true" class="header-anchor">#</a> Action</h4> <ul><li>Action 提交的是 mutation，而不是直接变更状态。</li> <li>Action 可以包含任意异步操作。</li></ul> <h3 id="context"><a href="#context" aria-hidden="true" class="header-anchor">#</a> context</h3> <ul><li>与 store 实例具有相同方法和属性</li></ul> <h3 id="store-dispatch"><a href="#store-dispatch" aria-hidden="true" class="header-anchor">#</a> store.dispatch</h3> <ul><li>触发Action
<ul><li>store.dispatch 返回promise，将action 返回 promise，store.dispatch后可接then()</li></ul></li></ul> <h3 id="payload"><a href="#payload" aria-hidden="true" class="header-anchor">#</a> payload</h3> <ul><li>以载荷形式分发</li></ul> <div class="language- extra-class"><pre class="language-text"><code>store.dispatch('incrementAsync', {
  amount: 10
})
</code></pre></div><ul><li>以对象形式分发</li></ul> <div class="language- extra-class"><pre class="language-text"><code>store.dispatch({
  type: 'incrementAsync',
  amount: 10
})
</code></pre></div><h3 id="mapactions"><a href="#mapactions" aria-hidden="true" class="header-anchor">#</a> mapActions</h3> <ul><li><code>mapActions</code> 辅助函数将组件的 methods 映射为 <code>store.dispatch</code> 调用</li></ul> <div class="language- extra-class"><pre class="language-text"><code> ...mapActions([
      'increment'
    ]),
</code></pre></div><h3 id="module"><a href="#module" aria-hidden="true" class="header-anchor">#</a> Module</h3> <ul><li>Vuex 允许我们将 store 分割成<strong>模块（module）</strong></li> <li>每个模块可以嵌套子模块</li></ul> <h3 id="state-2"><a href="#state-2" aria-hidden="true" class="header-anchor">#</a> state</h3> <div class="language- extra-class"><pre class="language-text"><code>this.$store.state.&lt;module&gt;.&lt;value&gt;
</code></pre></div><h3 id="getter-2"><a href="#getter-2" aria-hidden="true" class="header-anchor">#</a> Getter</h3> <div class="language- extra-class"><pre class="language-text"><code>this.$store.getters['&lt;mudule&gt;/&lt;getter&gt;']
</code></pre></div><ul><li>参数
<ul><li>state(<strong>模块的局部状态对象</strong>)</li> <li>getters</li> <li>rootState</li> <li>rootGetter</li></ul></li></ul> <h5 id="mutations"><a href="#mutations" aria-hidden="true" class="header-anchor">#</a> mutations</h5> <div class="language- extra-class"><pre class="language-text"><code>this.$store.commit['&lt;mudule&gt;/&lt;mutation&gt;']
</code></pre></div><ul><li>参数
<ul><li>state(<strong>模块的局部状态对象</strong>)</li> <li>payload</li></ul></li></ul> <h5 id="action-2"><a href="#action-2" aria-hidden="true" class="header-anchor">#</a> Action</h5> <div class="language- extra-class"><pre class="language-text"><code>this.$store.dispatch['&lt;mudule&gt;/&lt;action&gt;']
</code></pre></div><ul><li><p>参数</p> <ul><li><p>context</p> <ul><li>context.state</li> <li>context.rootState（根节点状态）</li> <li>getters</li> <li>rootGetters</li></ul></li> <li><p>payload</p></li></ul></li> <li><p>dispatch 和 commit 被局部化了</p></li> <li><p>他们可以接受 <code>root</code> 属性以访问根 dispatch 或 commit</p></li></ul> <h4 id="严格模式"><a href="#严格模式" aria-hidden="true" class="header-anchor">#</a> 严格模式</h4> <ul><li>在严格模式下，无论何时发生了状态变更且不是由 mutation 函数引起的，将会抛出错误。</li> <li>发布环境下关闭严格模式，以避免性能损失。</li></ul> <div class="language- extra-class"><pre class="language-text"><code>const store = new Vuex.Store({
  // ...
  strict: true
})
</code></pre></div><h4 id="表单处理"><a href="#表单处理" aria-hidden="true" class="header-anchor">#</a> 表单处理</h4> <ul><li>不使用v-model,v-bind 绑定value,配合input事件</li></ul> <div class="language- extra-class"><pre class="language-text"><code>computed: {
  ...mapState({
    message: state =&gt; state.obj.message
  })
},
methods: {
  updateMessage (e) {
    this.$store.commit('updateMessage', e.target.value)
  }
}
</code></pre></div><ul><li>使用v-model,配合computed-set、get</li></ul> <div class="language- extra-class"><pre class="language-text"><code>computed: {
  message: {
    get () {
      return this.$store.state.obj.message
    },
    set (value) {
      this.$store.commit('updateMessage', value)
    }
  }
}
</code></pre></div><h4 id="插件"><a href="#插件" aria-hidden="true" class="header-anchor">#</a> 插件</h4> <h4 id="测试"><a href="#测试" aria-hidden="true" class="header-anchor">#</a> 测试</h4> <h4 id="热重载"><a href="#热重载" aria-hidden="true" class="header-anchor">#</a> 热重载</h4></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">4/11/2020, 2:38:35 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/note/blog/Client/Vue/" class="prev router-link-active">
          Vue
        </a></span> <span class="next"><a href="/note/blog/Client/Vue/Vue-router/">
          Vue-router
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/note/assets/js/app.56227b0f.js" defer></script><script src="/note/assets/js/2.a1b42ab7.js" defer></script><script src="/note/assets/js/24.cbd16133.js" defer></script>
  </body>
</html>

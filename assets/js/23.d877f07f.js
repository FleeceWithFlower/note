(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{208:function(a,t,e){"use strict";e.r(t);var r=e(0),s=Object(r.a)({},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"vue-router"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue-router","aria-hidden":"true"}},[a._v("#")]),a._v(" vue-router")]),a._v(" "),e("ul",[e("li",[a._v("Vue Router 是 "),e("a",{attrs:{href:"http://cn.vuejs.org/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Vue.js"),e("OutboundLink")],1),a._v(" 官方的路由管理器")])]),a._v(" "),e("h2",{attrs:{id:"安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("npm install vue-router\n")])])]),e("h4",{attrs:{id:"配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置","aria-hidden":"true"}},[a._v("#")]),a._v(" 配置")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("import Vue from 'vue'\nimport VueRouter from 'vue-router'\n\nVue.use(VueRouter)\n")])])]),e("h2",{attrs:{id:"使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用","aria-hidden":"true"}},[a._v("#")]),a._v(" 使用")]),a._v(" "),e("p",[a._v("1.定义 (路由) 组件")]),a._v(" "),e("ul",[e("li",[a._v("可以从其他文件 import 进来")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("const Foo = { template: '<div>foo</div>' }\nconst Bar = { template: '<div>bar</div>' }\n")])])]),e("p",[a._v("2.定义路由")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("const routes = [\n  { path: '/foo', component: Foo },\n  { path: '/bar', component: Bar }\n]\n")])])]),e("p",[a._v("3.创建 router 实例，然后传 "),e("code",[a._v("routes")]),a._v(" 配置")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("const router = new VueRouter({\n  routes // (缩写) 相当于 routes: routes\n})\n")])])]),e("p",[a._v("4.创建和挂载根实例")]),a._v(" "),e("ul",[e("li",[a._v("记得要通过 router 配置参数注入路由， 从而让整个应用都有路由功能")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("const routes = [\n  { path: '/foo', component: Foo },\n  { path: '/bar', component: Bar }\n]\n\nconst router = new VueRouter({\n  routes // (缩写) 相当于 routes: routes\n})\n")])])]),e("h2",{attrs:{id:"动态路由匹配"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#动态路由匹配","aria-hidden":"true"}},[a._v("#")]),a._v(" 动态路由匹配")]),a._v(" "),e("h4",{attrs:{id:"params-id"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#params-id","aria-hidden":"true"}},[a._v("#")]),a._v(" params.id")]),a._v(" "),e("ul",[e("li",[a._v("像 "),e("code",[a._v("/user/foo")]),a._v(" 和 "),e("code",[a._v("/user/bar")]),a._v(" 都将映射到相同的路由。")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("  { path: '/user/:id', component: User }\n")])])]),e("ul",[e("li",[a._v("一个“路径参数”使用冒号 "),e("code",[a._v(":")]),a._v(" 标记,当匹配到一个路由时，参数值会被设置到"),e("code",[a._v("this.$route.params")]),a._v("，可以在每个组件内使用")])]),a._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("$route"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("params"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("id\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//foo` ")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//bar` ")]),a._v("\n")])])]),e("ul",[e("li",[a._v("路由中设置多段“路径参数”,对应的值都会设置到 "),e("code",[a._v("$route.params")]),a._v("中。")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("//  /user/:username/post/:post_id\n\n// this.$route.params => { username: 'evan', post_id: '123' }\n")])])]),e("h4",{attrs:{id:"实例复用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#实例复用","aria-hidden":"true"}},[a._v("#")]),a._v(" 实例复用")]),a._v(" "),e("ul",[e("li",[a._v("不同规则可能渲染同一页面，实例将被复用，"),e("strong",[a._v("组件的生命周期钩子将不会再被调用")]),a._v("。想对路由参数的变化作出响应的话，你可以简单地 watch (监测变化) "),e("code",[a._v("$route")]),a._v(" 对象，或者使用 2.2 中引入的 "),e("code",[a._v("beforeRouteUpdate")]),a._v("：")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("const User = {\n  template: '...',\n  watch: {\n    '$route' (to, from) {\n      // 对路由变化作出响应...\n    }\n  }\n}\n")])])]),e("h4",{attrs:{id:"通配符"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#通配符","aria-hidden":"true"}},[a._v("#")]),a._v(" *  通配符")]),a._v(" "),e("h5",{attrs:{id:""}},[e("a",{staticClass:"header-anchor",attrs:{href:"#","aria-hidden":"true"}},[a._v("#")])]),a._v(" "),e("ul",[e("li",[a._v("{ path: '*' }` 通常用于客户端 404 错误")])]),a._v(" "),e("h5",{attrs:{id:"pathmatch"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pathmatch","aria-hidden":"true"}},[a._v("#")]),a._v(" pathMatch")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("当使用一个"),e("em",[a._v("通配符")]),a._v("时，"),e("code",[a._v("$route.params")]),a._v(" 内会自动添加一个名为 "),e("code",[a._v("pathMatch")]),a._v(" 参数。它包含了 URL 通过"),e("em",[a._v("通配符")]),a._v("被匹配的部分")])]),a._v(" "),e("li",[e("p",[a._v("匹配优先级")]),a._v(" "),e("ul",[e("li",[a._v("谁先定义的，谁的优先级就最高")])])])]),a._v(" "),e("h2",{attrs:{id:"嵌套路由"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#嵌套路由","aria-hidden":"true"}},[a._v("#")]),a._v(" 嵌套路由")]),a._v(" "),e("h4",{attrs:{id:"children"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#children","aria-hidden":"true"}},[a._v("#")]),a._v(" children")]),a._v(" "),e("ul",[e("li",[e("code",[a._v("children")]),a._v(" 与"),e("code",[a._v("routes")]),a._v(" 配置一样，可以嵌套多层路由")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("const routes = [\n  {\n    path: '/foo/:id',\n    component: hello,\n    children:[\n      {\n        path:'world',\n        component: world,\n      }\n    ]\n  },\n]\n\n")])])]),e("h2",{attrs:{id:"编程式的导航"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#编程式的导航","aria-hidden":"true"}},[a._v("#")]),a._v(" 编程式的导航")]),a._v(" "),e("h4",{attrs:{id:"router-push"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#router-push","aria-hidden":"true"}},[a._v("#")]),a._v(" router.push")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("点击"),e("code",[a._v("<router-link>")]),a._v("等同于调用router.push()")])]),a._v(" "),e("li",[e("p",[e("code",[a._v("router.push(location, onComplete?, onAbort?)")])]),a._v(" "),e("ul",[e("li",[e("p",[a._v("location参数")]),a._v(" "),e("ul",[e("li",[a._v("字符串 或 对象")])])]),a._v(" "),e("li",[e("p",[a._v("onComplete")]),a._v(" "),e("ul",[e("li",[a._v("导航成功完成回调函数")])])]),a._v(" "),e("li",[e("p",[a._v("onAbort")]),a._v(" "),e("ul",[e("li",[a._v("终止导航回调函数\n"),e("ul",[e("li",[a._v("(导航到相同的路由、或在当前导航完成之前导航到另一个不同的路由)")])])])])])])])]),a._v(" "),e("h4",{attrs:{id:"router-replace"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#router-replace","aria-hidden":"true"}},[a._v("#")]),a._v(" router.replace")]),a._v(" "),e("ul",[e("li",[a._v("替换掉当前的 history 记录")])]),a._v(" "),e("h4",{attrs:{id:"router-go-n"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#router-go-n","aria-hidden":"true"}},[a._v("#")]),a._v(" router.go(n)")]),a._v(" "),e("ul",[e("li",[a._v("向前或者后退")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("router.go(1) //前进一步\nrouter.go(-1) // 后退一步记录\n")])])]),e("h2",{attrs:{id:"命名路由"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#命名路由","aria-hidden":"true"}},[a._v("#")]),a._v(" 命名路由")]),a._v(" "),e("ul",[e("li",[a._v("在 "),e("code",[a._v("routes")]),a._v(" 配置中给某个路由设置名称。")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("  routes: [\n    {\n      path: '/user/:userId',\n      name: 'user',\n      component: User\n    }\n  ]\n")])])]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("<router-link :to=\"{ name: 'user', params: { userId: 123 }}\">User</router-link>\n")])])]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("router.push({ name: 'user', params: { userId: 123 }})\n")])])]),e("h2",{attrs:{id:"命名视图"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#命名视图","aria-hidden":"true"}},[a._v("#")]),a._v(" 命名视图")]),a._v(" "),e("pre",[e("code",[a._v("     - 同级展示多个视图\n     - component => components\n     - 如果组件没有名字，则使用default\n     \n     ```js\n       routes: [\n         {\n           path: '/',\n           components: {\n             default: Foo,\n             a: Bar,\n             b: Baz\n           }\n         }\n       ]\n     ```\n")])]),a._v(" "),e("h2",{attrs:{id:"嵌套命名视图"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#嵌套命名视图","aria-hidden":"true"}},[a._v("#")]),a._v(" 嵌套命名视图")]),a._v(" "),e("h2",{attrs:{id:"重定向"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#重定向","aria-hidden":"true"}},[a._v("#")]),a._v(" 重定向")]),a._v(" "),e("ul",[e("li",[a._v("访问匹配页面时，重定向到别的页面。")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v(" routes: [\n    { path: '/a', redirect: '/b' }\n  ]\n")])])]),e("h2",{attrs:{id:"别名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#别名","aria-hidden":"true"}},[a._v("#")]),a._v(" 别名")]),a._v(" "),e("ul",[e("li",[a._v("页面还是匹配页面，就是名字改了")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v(" routes: [\n    { path: '/a', component: A, alias: '/b' }\n  ]\n")])])]),e("h2",{attrs:{id:"路由组件传参"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#路由组件传参","aria-hidden":"true"}},[a._v("#")]),a._v(" 路由组件传参")]),a._v(" "),e("ul",[e("li",[a._v("使用 "),e("code",[a._v("props")]),a._v(" 将组件和路由解耦,取代与 $route 的耦合")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("const User = {\n  props: ['id'],\n  template: '<div>User {{ id }}</div>'\n}\n")])])]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v(" routes: [\n    { path: '/user/:id', component: User, props: true }]\n")])])]),e("h2",{attrs:{id:"html5-history-模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#html5-history-模式","aria-hidden":"true"}},[a._v("#")]),a._v(" HTML5 History 模式")]),a._v(" "),e("ul",[e("li",[a._v("这种模式充分利用 "),e("code",[a._v("history.pushState")]),a._v(" API 来完成 URL 跳转而无须重新加载页面。")])])])},[],!1,null,null,null);t.default=s.exports}}]);
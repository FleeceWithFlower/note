(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{262:function(a,e,t){"use strict";t.r(e);var s=t(0),r=Object(s.a)({},function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"webpack"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack","aria-hidden":"true"}},[a._v("#")]),a._v(" WEBPACK")]),a._v(" "),t("p",[a._v("JS模块打包器")]),a._v(" "),t("ul",[t("li",[a._v("默认支持js、import 、export")]),a._v(" "),t("li",[a._v("默认支持 JSON")])]),a._v(" "),t("h2",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("npm install --save-dev webpack\nnpm install --save-dev webpack-cli\n")])])]),t("h2",{attrs:{id:"webpack-config-js"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack-config-js","aria-hidden":"true"}},[a._v("#")]),a._v(" webpack.config.js")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("const path = require('path')\nconst config = {\n    entry:'./src/main',\n    output:{\n        path:path.resolve(__dirname,'./dist'),\n        filename:'main.js'\n    },\n    module:{\n            rules:[]\n    },\n    plugins:[]\n}\nmodule.exports=config\n\n")])])]),t("h2",{attrs:{id:"模式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#模式","aria-hidden":"true"}},[a._v("#")]),a._v(" 模式")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('const config = {\n\tmode:"production"\n}\n')])])]),t("ul",[t("li",[t("p",[a._v("production")])]),a._v(" "),t("li",[t("p",[a._v("development")])]),a._v(" "),t("li",[t("p",[a._v("process.env.NODE_ENV")])])]),a._v(" "),t("h2",{attrs:{id:"配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置","aria-hidden":"true"}},[a._v("#")]),a._v(" 配置")]),a._v(" "),t("p",[a._v("省略后缀名")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("//引包时可省略后缀名\nconst config = {\n    resolve:{\n    extensions:['.js,'.jsx','.json']\n    }\n}\n")])])]),t("p",[a._v("配置@路径")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("const config = {\n    resolve:{\n    \talias:{\n    \t'@':path.join(__dirname,'./src')\n   \t\t }\n    }\n}\n")])])]),t("h2",{attrs:{id:"html"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#html","aria-hidden":"true"}},[a._v("#")]),a._v(" HTML")]),a._v(" "),t("h3",{attrs:{id:"html-webpack-plugin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#html-webpack-plugin","aria-hidden":"true"}},[a._v("#")]),a._v(" html-webpack-plugin")]),a._v(" "),t("blockquote",[t("p",[a._v("动态创建index.html")])]),a._v(" "),t("p",[a._v("安装")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("npm install --save-dev html-webpack-plugin\n")])])]),t("p",[a._v("配置")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("const HtmlWebpackPlugin = require('html-webpack-plugin');\n\nconst config = {\n    plugins:[\n    new HtmlWebpackPlugin({\n        template: 'index.html',//目标模板\n    })\n    ]\n}\n\n\n")])])]),t("h2",{attrs:{id:"css"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#css","aria-hidden":"true"}},[a._v("#")]),a._v(" CSS")]),a._v(" "),t("ul",[t("li",[a._v("安装")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("npm i style-loader css-loader\n")])])]),t("ul",[t("li",[a._v("配置")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("const config = {\n    module: {\n        rules: [\n            {\n                test: /\\.css|less$/,\n                use:['style-loader','css-loader']\n            }\n        ]\n    },\n\n}\n\n")])])]),t("ul",[t("li",[a._v("启用CSS作用域\n"),t("ul",[t("li",[a._v("配置")])])])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("{\n   test: /\\.css|less$/,\n   use:['style-loader','css-loader?modules']\n}\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("//例\nimport css from '@/css/default.css'\n<h1 className={css.colorRed}>评论区列表</h1>\n")])])]),t("ul",[t("li",[t("p",[a._v("local")]),a._v(" "),t("blockquote",[t("p",[a._v("被包裹的类名会被模块化，默认选项")])])])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v(":local(.test){\n\tcolor:red;\n}\n")])])]),t("ul",[t("li",[t("p",[a._v("global")]),a._v(" "),t("blockquote",[t("p",[a._v("被包裹的类名不会被模块化")])])])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v(":global(.test){\n\tcolor:red;\n}\n")])])]),t("h2",{attrs:{id:"图片-字体"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#图片-字体","aria-hidden":"true"}},[a._v("#")]),a._v(" 图片/字体")]),a._v(" "),t("p",[a._v("url-loader")]),a._v(" "),t("p",[a._v("file-loader")]),a._v(" "),t("ul",[t("li",[a._v("The "),t("code",[a._v("file-loader")]),a._v(" resolves "),t("code",[a._v("import")]),a._v("/"),t("code",[a._v("require()")]),a._v(" on a file into a url and emits the file into the output directory.")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("npm install --save-dev file-loader\n")])])]),t("ul",[t("li",[t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("{\n    test: /\\.(png|svg|jpg|gif)$/,\n     loader : 'file-loader',\n     options:{\n        outputPath:'images'\n              }\n },\n\n")])])])]),a._v(" "),t("li",[t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("{\n   test: /\\.(woff|woff2|eot|ttf|otf)$/, \n   use: ['file-loader']\n   }\n")])])])])]),a._v(" "),t("h2",{attrs:{id:"数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据","aria-hidden":"true"}},[a._v("#")]),a._v(" 数据")]),a._v(" "),t("h3",{attrs:{id:"csv-loader"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#csv-loader","aria-hidden":"true"}},[a._v("#")]),a._v(" csv-loader")]),a._v(" "),t("h3",{attrs:{id:"xml-loader"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#xml-loader","aria-hidden":"true"}},[a._v("#")]),a._v(" xml-loader")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("The loader will translate the "),t("code",[a._v("data.xml")]),a._v(" file into a JSON Object. "),t("a",{attrs:{href:"https://github.com/Leonidas-from-XIV/node-xml2js#options",target:"_blank",rel:"noopener noreferrer"}},[a._v("node-xml2js processors"),t("OutboundLink")],1),a._v(" are supported via query syntax.")])]),a._v(" "),t("li",[t("p",[a._v("将XML转换成JSON")])]),a._v(" "),t("li")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("npm install --save-dev  xml-loader\n")])])]),t("ul",[t("li",[t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("{ test: /\\.xml$/, loader: 'xml-loader' }\n")])])])])]),a._v(" "),t("h2",{attrs:{id:"模板-待补充"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#模板-待补充","aria-hidden":"true"}},[a._v("#")]),a._v(" 模板  //待补充")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("html-webpack-template\n")])])]),t("h2",{attrs:{id:"清理目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#清理目录","aria-hidden":"true"}},[a._v("#")]),a._v(" 清理目录")]),a._v(" "),t("h3",{attrs:{id:"clean-plugin-for-webpack"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#clean-plugin-for-webpack","aria-hidden":"true"}},[a._v("#")]),a._v(" Clean plugin for webpack")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("By default, this plugin will remove all files inside webpack's "),t("code",[a._v("output.path")]),a._v(" directory, as well as all unused webpack assets after every successful rebuild.")])]),a._v(" "),t("li",[t("p",[a._v("默认情况下，此插件将删除webpack "),t("code",[a._v("output.path")]),a._v("目录中的所有文件，以及每次成功重建后所有未使用的webpack资产。")])]),a._v(" "),t("li",[t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("npm install clean-webpack-plugin --save-dev\n")])])])]),a._v(" "),t("li",[t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("const { CleanWebpackPlugin } = require('clean-webpack-plugin');\n--------------------------\nnew CleanWebpackPlugin()\n")])])])])]),a._v(" "),t("h2",{attrs:{id:"生成资产清单"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生成资产清单","aria-hidden":"true"}},[a._v("#")]),a._v(" 生成资产清单")]),a._v(" "),t("h3",{attrs:{id:"webpack-manifest-plugin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack-manifest-plugin","aria-hidden":"true"}},[a._v("#")]),a._v(" webpack-manifest-plugin")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("用于生成资产清单的Webpack插件。")])]),a._v(" "),t("li",[t("p",[a._v("根目录中生成manifest.json")])]),a._v(" "),t("li",[t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("const ManifestPlugin = require('webpack-manifest-plugin');\n-------------------------\n new ManifestPlugin()\n")])])])])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("npm install --save-dev webpack-manifest-plugin\n")])])]),t("h2",{attrs:{id:"开发工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开发工具","aria-hidden":"true"}},[a._v("#")]),a._v(" 开发工具")]),a._v(" "),t("h3",{attrs:{id:"source-map"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#source-map","aria-hidden":"true"}},[a._v("#")]),a._v(" source map")]),a._v(" "),t("ul",[t("li",[t("em",[a._v("切勿同时使用")]),a._v(" "),t("code",[a._v("devtool")]),a._v(" "),t("em",[a._v("选项和")]),a._v(" "),t("code",[a._v("SourceMapDevToolPlugin")]),t("em",[a._v("/")]),t("code",[a._v("EvalSourceMapDevToolPlugin")]),a._v(" "),t("em",[a._v("插件")])])]),a._v(" "),t("h4",{attrs:{id:"source-map-loader"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#source-map-loader","aria-hidden":"true"}},[a._v("#")]),a._v(" source-map-loader")]),a._v(" "),t("ul",[t("li",[a._v("开发模式 => cheap-module-eval-source-map")]),a._v(" "),t("li",[a._v("生产模式 => none")])]),a._v(" "),t("h4",{attrs:{id:"sourcemapdevtoolplugin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sourcemapdevtoolplugin","aria-hidden":"true"}},[a._v("#")]),a._v(" SourceMapDevToolPlugin")]),a._v(" "),t("h3",{attrs:{id:"webpack-s-watch-mode"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack-s-watch-mode","aria-hidden":"true"}},[a._v("#")]),a._v(" webpack's Watch Mode")]),a._v(" "),t("ul",[t("li",[t("div",{staticClass:"language-diff extra-class"},[t("pre",{pre:!0,attrs:{class:"language-diff"}},[t("code",[a._v('"watch": "webpack --watch",\n')])])])])]),a._v(" "),t("h3",{attrs:{id:"webpack-dev-server"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack-dev-server","aria-hidden":"true"}},[a._v("#")]),a._v(" webpack-dev-server")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("安装")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("npm install --save-dev webpack-dev-server\n")])])])]),a._v(" "),t("li",[t("p",[a._v("配置")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("module.exports = {\n   devServer: {\n     host: '127.0.0.1',\n     port:'8080',\n     contentBase: './dist',//工作目录\n     hot:true,//热模块替换\n   }\n}\n")])])]),t("blockquote",[t("p",[t("a",{attrs:{href:"https://webpack.docschina.org/configuration/dev-server/#src/components/Sidebar/Sidebar.jsx",target:"_blank",rel:"noopener noreferrer"}},[a._v("更多配置"),t("OutboundLink")],1)])])])]),a._v(" "),t("h3",{attrs:{id:"webpack-dev-middleware"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack-dev-middleware","aria-hidden":"true"}},[a._v("#")]),a._v(" webpack-dev-middleware")]),a._v(" "),t("ul",[t("li",[t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('"serve": "webpack-dev-server --open",\n')])])])])]),a._v(" "),t("h2",{attrs:{id:"babel"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#babel","aria-hidden":"true"}},[a._v("#")]),a._v(" Babel")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("JavaScript 编译器")]),a._v(" "),t("ul",[t("li",[a._v("语法转换")]),a._v(" "),t("li",[a._v("通过 Polyfill 方式在目标环境中添加缺失的特性")]),a._v(" "),t("li",[a._v("源码转换")])])]),a._v(" "),t("li",[t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("npm install babel-loader@8.0.0-beta.0 @babel/core @babel/preset-env webpack --save-dev\nnpm install --save-dev @babel/polyfill\n")])])]),t("ul",[t("li",[t("p",[a._v("babel.config.js")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('const presets = [\n  [\n    "@babel/env",\n    {\t\n      targets: {\n        edge: "17",\n        firefox: "60",\n        chrome: "67",\n        safari: "11.1",\n      },\n      useBuiltIns: "usage",\n    },\n  ],\n];\n\nmodule.exports = { presets };\n')])])])])])]),a._v(" "),t("li",[t("p",[a._v("babel-loader")])]),a._v(" "),t("li",[t("p",[a._v("es6语法转化为es5语法")])]),a._v(" "),t("li",[t("p",[a._v("babel-core")])]),a._v(" "),t("li",[t("p",[a._v("api接口")])]),a._v(" "),t("li",[t("p",[a._v("babel-preset-env")])]),a._v(" "),t("li",[t("p",[a._v("指定环境")])]),a._v(" "),t("li",[t("p",[a._v("babel-polyfill")])]),a._v(" "),t("li",[t("p",[a._v("模仿ES2015环境，向全局添加对象。如Promiss")])]),a._v(" "),t("li",[t("p",[a._v("babel-runtime babel-plugin-transform-runtime")]),a._v(" "),t("ul",[t("li",[a._v("避免重复引入辅助代码，比如 "),t("code",[a._v("_extend")])])])])]),a._v(" "),t("h2",{attrs:{id:"uglify-js"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#uglify-js","aria-hidden":"true"}},[a._v("#")]),a._v(" uglify-js")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("UglifyJS是一个JavaScript解析器，minifier，压缩器和美化工具包。")])]),a._v(" "),t("li",[t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("npm install uglify-js --save-dev\n")])])])])]),a._v(" "),t("h2",{attrs:{id:"polyfill"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#polyfill","aria-hidden":"true"}},[a._v("#")]),a._v(" Polyfill")]),a._v(" "),t("ul",[t("li",[a._v("Polyfill 是一块代码（通常是 Web 上的 JavaScript），用来为旧浏览器提供它没有原生支持的较新的功能。")])]),a._v(" "),t("h2",{attrs:{id:"tree-shaking"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tree-shaking","aria-hidden":"true"}},[a._v("#")]),a._v(" tree shaking")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("用于描述移除 JavaScript 上下文中的未引用代码(dead-code)")])]),a._v(" "),t("li",[t("h2",{attrs:{id:"side-effect-free"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#side-effect-free","aria-hidden":"true"}},[a._v("#")]),a._v(" side-effect-free")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("无副作用")])]),a._v(" "),t("li",[t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('"sideEffects": false\n')])])])]),a._v(" "),t("li",[t("p",[a._v("webpack，它可以安全地删除未用到的 export 导出")])])])]),a._v(" "),t("li",[t("p",[a._v("dead code")])]),a._v(" "),t("li",[t("p",[a._v("未引用代码")])]),a._v(" "),t("li",[t("p",[a._v("minifier")]),a._v(" "),t("ul",[t("li",[a._v("压缩工具")])])])]),a._v(" "),t("h2",{attrs:{id:"webpack-merge"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack-merge","aria-hidden":"true"}},[a._v("#")]),a._v(" webpack-merge")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("webpack配置工具")])]),a._v(" "),t("li",[t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("npm install --save-dev webpack-merge\n")])])])])]),a._v(" "),t("h2",{attrs:{id:"代码分离"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#代码分离","aria-hidden":"true"}},[a._v("#")]),a._v(" 代码分离")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("SplitChunksPlugin")])]),a._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://www.webpackjs.com/plugins/extract-text-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[t("code",[a._v("ExtractTextPlugin")]),t("OutboundLink")],1)])]),a._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://www.webpackjs.com/loaders/bundle-loader",target:"_blank",rel:"noopener noreferrer"}},[t("code",[a._v("bundle-loader")]),t("OutboundLink")],1)])]),a._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://github.com/gaearon/promise-loader",target:"_blank",rel:"noopener noreferrer"}},[t("code",[a._v("promise-loader")]),t("OutboundLink")],1)])])]),a._v(" "),t("h2",{attrs:{id:"动态导入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#动态导入","aria-hidden":"true"}},[a._v("#")]),a._v(" 动态导入")]),a._v(" "),t("h2",{attrs:{id:"webpack-bundle-analyzer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack-bundle-analyzer","aria-hidden":"true"}},[a._v("#")]),a._v(" Webpack Bundle Analyzer")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("Visualize size of webpack output files with an interactive zoomable treemap.")])]),a._v(" "),t("li",[t("p",[a._v("使用交互式可缩放树形图可视化webpack输出文件的大小。")])]),a._v(" "),t("li",[t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("npm install --save-dev webpack-bundle-analyzer\n")])])])]),a._v(" "),t("li",[t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("const BundleAnalyzerPlugin = require('webpack-bundle-analyzer').BundleAnalyzerPlugin;\n\nmodule.exports = {\n  plugins: [\n    new BundleAnalyzerPlugin()\n  ]\n}\n")])])])])])])},[],!1,null,null,null);e.default=r.exports}}]);